{
  "version": 3,
  "sources": ["../../@arcgis/core/arcade/functions/centroid.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{rad2deg as t}from\"../../core/mathUtils.js\";import n from\"../../geometry/Point.js\";import{segmentIntersects as e}from\"../../geometry/support/intersectsBase.js\";function r(t,n,e){return Math.sqrt((t[0]-n[0])**2+(t[1]-n[1])**2+(void 0!==t[2]&&void 0!==n[2]?(t[2]*e-n[2]*e)**2:0))}const o=[];for(const R of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const t=R[0];for(let n=1;n<R.length;n++)o[R[n]]=t}const s=[];function i(t){return t.vcsWkid&&void 0!==o[t.vcsWkid]?s[o[t.vcsWkid]]:t.latestVcsWkid&&void 0!==o[t.latestVcsWkid]?s[o[t.latestVcsWkid]]:1}function c(t,n,e){const r={x:0,y:0};n&&(r.z=0),e&&(r.m=0);let o=0,s=t[0];for(let i=0;i<t.length;i++){const c=t[i];if(!1===l(c,s)){const t=h(s,c,n),i=a(s,c,n,e);i.x*=t,i.y*=t,r.x+=i.x,r.y+=i.y,n&&(i.z*=t,r.z+=i.z),e&&(i.m*=t,r.m+=i.m),o+=t,s=c}}return o>0?(r.x/=o,r.y/=o,n&&(r.z/=o),e&&(r.m/=o)):(r.x=t[0][0],r.y=t[0][1],n&&(r.z=t[0][2]),e&&n?r.m=t[0][3]:e&&(r.m=t[0][2])),r}function a(t,n,e,r){const o={x:(t[0]+n[0])/2,y:(t[1]+n[1])/2};return e&&(o.z=(t[2]+n[2])/2),e&&r?o.m=(t[3]+n[3])/2:r&&(o.m=(t[2]+n[2])/2),o}function f(t,n){if(t.length<=1)return 0;let e=0;for(let r=1;r<t.length;r++)e+=h(t[r-1],t[r],n);return e}function h(t,n,e){const r=n[0]-t[0],o=n[1]-t[1];if(e){const t=n[2]-n[2];return Math.sqrt(r*r+o*o+t*t)}return Math.sqrt(r*r+o*o)}function l(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}function u(t){const e={x:0,y:0,spatialReference:t.spatialReference.toJSON()},r={x:0,y:0,spatialReference:t.spatialReference.toJSON()};let o=0,s=0;for(let n=0;n<t.paths.length;n++){if(0===t.paths[n].length)continue;const i=f(t.paths[n],!0===t.hasZ);if(0===i){const r=c(t.paths[n],!0===t.hasZ,!0===t.hasM);e.x+=r.x,e.y+=r.y,!0===t.hasZ&&(e.z+=r.z),!0===t.hasM&&(e.m+=r.m),++o}else{const e=c(t.paths[n],!0===t.hasZ,!0===t.hasM);r.x+=e.x*i,r.y+=e.y*i,!0===t.hasZ&&(r.z+=e.z*i),!0===t.hasM&&(r.m+=e.m*i),s+=i}}return s>0?(r.x/=s,r.y/=s,!0===t.hasZ&&(r.z/=s),!0===t.hasM&&(r.m/=s),new n(r)):o>0?(e.x/=o,e.y/=o,!0===t.hasZ&&(r.z/=o),!0===t.hasM&&(e.m/=o),new n(e)):null}function y(t){if(0===t.points.length)return null;let e=0,r=0,o=0,s=0;for(let n=0;n<t.points.length;n++){const i=t.getPoint(n);!0===i.hasZ&&(o+=i.z),!0===i.hasM&&(s+=i.m),e+=i.x,r+=i.y,s+=i.m}const i={x:e/t.points.length,y:r/t.points.length,spatialReference:null};return i.spatialReference=t.spatialReference.toJSON(),!0===t.hasZ&&(i.z=o/t.points.length),!0===t.hasM&&(i.m=s/t.points.length),new n(i)}function x(t,n){return t.x*n.x+t.y*n.y}function m(t,n){return t.x*n.y-n.x*t.y}function p(t,n,e=0){for(;t<e;)t+=n;const r=e+n;for(;t>=r;)t-=n;return t}function g(t,n){return Math.atan2(n.y-t.y,n.x-t.x)}function M(t,n){return p(g(t,n),2*Math.PI)*(180/Math.PI)}function z(t,n){return p(Math.PI/2-g(t,n),2*Math.PI)*(180/Math.PI)}function d(t,n,e){const r={x:t.x-n.x,y:t.y-n.y},o={x:e.x-n.x,y:e.y-n.y};return Math.atan2(m(r,o),x(r,o))}function P(n,e,r){return t(p(d(n,e,r),2*Math.PI))}function Z(n,e,r){return t(p(-1*d(n,e,r),2*Math.PI))}s[9002]=.3048,s[9003]=.3048006096012192,s[9095]=.3048007491;const v=[0,0];function I(t){for(let n=0;n<t.length;n++){const r=t[n];for(let s=0;s<r.length-1;s++){const o=r[s],i=r[s+1];for(let r=n+1;r<t.length;r++)for(let n=0;n<t[r].length-1;n++){const s=t[r][n],c=t[r][n+1];if(e(o,i,s,c,v)&&!(v[0]===o[0]&&v[1]===o[1]||v[0]===s[0]&&v[1]===s[1]||v[0]===i[0]&&v[1]===i[1]||v[0]===c[0]&&v[1]===c[1]))return!0}}const o=r.length;if(!(o<3))for(let t=0;t<=o-2;t++){const n=r[t],s=r[t+1];for(let i=t+2;i<=o-2;i++){const t=r[i],o=r[i+1];if(e(n,s,t,o,v)&&!(v[0]===n[0]&&v[1]===n[1]||v[0]===t[0]&&v[1]===t[1]||v[0]===s[0]&&v[1]===s[1]||v[0]===o[0]&&v[1]===o[1]))return!0}}}return!1}export{M as angle2D,P as angleBetween2D,d as angleBetweenRad,g as angleRad,z as bearing2D,Z as bearingBetween2D,y as centroidMultiPoint,u as centroidPolyline,i as getMetersPerVerticalUnitForSR,I as pathsSelfIntersecting,r as segmentLength3d};\n"],
  "mappings": "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",
  "names": ["r", "o", "s", "i", "c", "t", "e", "x", "m", "n"]
}
