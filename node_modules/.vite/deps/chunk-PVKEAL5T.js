import {
  l
} from "./chunk-QFUDSK3Q.js";
import {
  A,
  B,
  C,
  D,
  E,
  F,
  H as H2,
  J,
  K as K2,
  L as L2,
  M as M2,
  N as N2,
  O,
  P,
  R,
  S,
  T,
  U,
  V,
  W,
  b,
  d,
  g,
  h,
  j as j3,
  k,
  m as m2,
  p as p3,
  v,
  w,
  x as x2,
  y as y2
} from "./chunk-EGJS4OMD.js";
import {
  i,
  r as r4,
  u as u2,
  y
} from "./chunk-7QTR2TBZ.js";
import {
  t as t2
} from "./chunk-6643GOM6.js";
import {
  N
} from "./chunk-Z3CHIB6Q.js";
import {
  $,
  Fe,
  H,
  K,
  L,
  Me,
  Ne,
  Q,
  X,
  a as a2,
  be,
  ce,
  je,
  ke,
  ne,
  pe,
  q,
  qe,
  r as r3
} from "./chunk-24PJGGGS.js";
import {
  a,
  c,
  r as r2
} from "./chunk-W4QVNWBV.js";
import {
  p as p2
} from "./chunk-IPCIO3PX.js";
import {
  j as j2,
  m3 as m,
  u
} from "./chunk-OIIDE5GZ.js";
import {
  j as j4
} from "./chunk-XXFXRXFH.js";
import {
  M
} from "./chunk-Y5D433JZ.js";
import {
  p,
  x2 as x
} from "./chunk-QNOCEWCR.js";
import {
  z
} from "./chunk-HLGIRLYQ.js";
import {
  j,
  r,
  t3 as t
} from "./chunk-R5DM4YAB.js";

// node_modules/@arcgis/core/portal/support/utils.js
async function n(n2, t3, s) {
  var _a, _b;
  const u3 = (_a = t) == null ? void 0 : _a.findCredential(n2.restUrl);
  if (!u3)
    return null;
  if ("loaded" === n2.loadStatus && "" === t3 && ((_b = n2.user) == null ? void 0 : _b.sourceJSON) && false === s)
    return n2.user.sourceJSON;
  const o = { responseType: "json", query: { f: "json" } };
  if (s && (o.query.returnUserLicenseTypeExtensions = true), "" === t3) {
    const e = await j(n2.restUrl + "/community/self", o);
    if (e.data) {
      const r5 = e.data;
      if (r5 == null ? void 0 : r5.username)
        return r5;
    }
    return null;
  }
  const i2 = await j(n2.restUrl + "/community/users/" + t3, o);
  if (i2.data) {
    const e = i2.data;
    return e.error ? null : e;
  }
  return null;
}

// node_modules/@arcgis/core/arcade/functions/geomasync.js
function vn(t3) {
  return 0 === r.indexOf("4.") ? j2.fromExtent(t3) : new j2({ spatialReference: t3.spatialReference, rings: [[[t3.xmin, t3.ymin], [t3.xmin, t3.ymax], [t3.xmax, t3.ymax], [t3.xmax, t3.ymin], [t3.xmin, t3.ymin]]] });
}
function Pn(n2, t3, e) {
  if (ne(n2, 2, 2, t3, e), n2[0] instanceof p && n2[1] instanceof p)
    ;
  else if (n2[0] instanceof p && null === n2[1])
    ;
  else if (n2[1] instanceof p && null === n2[0])
    ;
  else if (null !== n2[0] || null !== n2[1])
    throw new a2(t3, r3.InvalidParameter, e);
}
async function In(n2, t3) {
  if ("polygon" !== n2.type && "polyline" !== n2.type && "extent" !== n2.type)
    return 0;
  let e = 1;
  if (n2.spatialReference.vcsWkid || n2.spatialReference.latestVcsWkid) {
    e = i(n2.spatialReference) / z(n2.spatialReference);
  }
  let r5 = 0;
  if ("polyline" === n2.type)
    for (const a3 of n2.paths)
      for (let n3 = 1; n3 < a3.length; n3++)
        r5 += r4(a3[n3], a3[n3 - 1], e);
  else if ("polygon" === n2.type)
    for (const a3 of n2.rings) {
      for (let n3 = 1; n3 < a3.length; n3++)
        r5 += r4(a3[n3], a3[n3 - 1], e);
      (a3[0][0] !== a3[a3.length - 1][0] || a3[0][1] !== a3[a3.length - 1][1] || void 0 !== a3[0][2] && a3[0][2] !== a3[a3.length - 1][2]) && (r5 += r4(a3[0], a3[a3.length - 1], e));
    }
  else
    "extent" === n2.type && (r5 += 2 * r4([n2.xmin, n2.ymin, 0], [n2.xmax, n2.ymin, 0], e), r5 += 2 * r4([n2.xmin, n2.ymin, 0], [n2.xmin, n2.ymax, 0], e), r5 *= 2, r5 += 4 * Math.abs(L(n2.zmax, 0) * e - L(n2.zmin, 0) * e));
  const i2 = new m({ hasZ: false, hasM: false, spatialReference: n2.spatialReference, paths: [[0, 0], [0, r5]] });
  return F(i2, t3);
}
function An(n2) {
  "async" === n2.mode && (n2.functions.disjoint = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, r5, i2) => (Pn(i2 = ke(i2), t3, e), null === i2[0] || null === i2[1] || A(i2[0], i2[1])));
  }, n2.functions.intersects = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, r5, i2) => (Pn(i2 = ke(i2), t3, e), null !== i2[0] && null !== i2[1] && h(i2[0], i2[1])));
  }, n2.functions.touches = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, r5, i2) => (Pn(i2 = ke(i2), t3, e), null !== i2[0] && null !== i2[1] && S(i2[0], i2[1])));
  }, n2.functions.crosses = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, r5, i2) => (Pn(i2 = ke(i2), t3, e), null !== i2[0] && null !== i2[1] && m2(i2[0], i2[1])));
  }, n2.functions.within = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, r5, i2) => (Pn(i2 = ke(i2), t3, e), null !== i2[0] && null !== i2[1] && x2(i2[0], i2[1])));
  }, n2.functions.contains = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, r5, i2) => (Pn(i2 = ke(i2), t3, e), null !== i2[0] && null !== i2[1] && p3(i2[0], i2[1])));
  }, n2.functions.overlaps = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, r5, i2) => (Pn(i2 = ke(i2), t3, e), null !== i2[0] && null !== i2[1] && O(i2[0], i2[1])));
  }, n2.functions.equals = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, r5, i2) => (ne(i2, 2, 2, t3, e), i2[0] === i2[1] || (i2[0] instanceof p && i2[1] instanceof p ? g(i2[0], i2[1]) : (Q(i2[0]) && Q(i2[1]) || !!(K(i2[0]) && K(i2[1]) || X(i2[0]) && X(i2[1]))) && i2[0].equals(i2[1]))));
  }, n2.functions.relate = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      if (o = ke(o), ne(o, 3, 3, t3, e), o[0] instanceof p && o[1] instanceof p)
        return R(o[0], o[1], ce(o[2]));
      if (o[0] instanceof p && null === o[1])
        return false;
      if (o[1] instanceof p && null === o[0])
        return false;
      if (null === o[0] && null === o[1])
        return false;
      throw new a2(t3, r3.InvalidParameter, e);
    });
  }, n2.functions.intersection = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, r5, i2) => (Pn(i2 = ke(i2), t3, e), null === i2[0] || null === i2[1] ? null : D(i2[0], i2[1])));
  }, n2.functions.union = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, o, l2) => {
      const u3 = [];
      if (0 === (l2 = ke(l2)).length)
        throw new a2(t3, r3.WrongNumberOfParameters, e);
      if (1 === l2.length)
        if (q(l2[0])) {
          const n4 = ke(l2[0]);
          for (let a3 = 0; a3 < n4.length; a3++)
            if (null !== n4[a3]) {
              if (!(n4[a3] instanceof p))
                throw new a2(t3, r3.InvalidParameter, e);
              u3.push(n4[a3]);
            }
        } else {
          if (!$(l2[0])) {
            if (l2[0] instanceof p)
              return Ne(c(l2[0]), t3.spatialReference);
            if (null === l2[0])
              return null;
            throw new a2(t3, r3.InvalidParameter, e);
          }
          {
            const n4 = ke(l2[0].toArray());
            for (let a3 = 0; a3 < n4.length; a3++)
              if (null !== n4[a3]) {
                if (!(n4[a3] instanceof p))
                  throw new a2(t3, r3.InvalidParameter, e);
                u3.push(n4[a3]);
              }
          }
        }
      else
        for (let a3 = 0; a3 < l2.length; a3++)
          if (null !== l2[a3]) {
            if (!(l2[a3] instanceof p))
              throw new a2(t3, r3.InvalidParameter, e);
            u3.push(l2[a3]);
          }
      return 0 === u3.length ? null : b(u3);
    });
  }, n2.functions.difference = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, r5, i2) => (Pn(i2 = ke(i2), t3, e), null !== i2[0] && null === i2[1] ? c(i2[0]) : null === i2[0] ? null : E(i2[0], i2[1])));
  }, n2.functions.symmetricdifference = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, r5, i2) => (Pn(i2 = ke(i2), t3, e), null === i2[0] && null === i2[1] ? null : null === i2[0] ? c(i2[1]) : null === i2[1] ? c(i2[0]) : k(i2[0], i2[1])));
  }, n2.functions.clip = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      if (o = ke(o), ne(o, 2, 2, t3, e), !(o[1] instanceof M) && null !== o[1])
        throw new a2(t3, r3.InvalidParameter, e);
      if (null === o[0])
        return null;
      if (!(o[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return null === o[1] ? null : y2(o[0], o[1]);
    });
  }, n2.functions.cut = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, o, l2) => {
      if (l2 = ke(l2), ne(l2, 2, 2, t3, e), !(l2[1] instanceof m) && null !== l2[1])
        throw new a2(t3, r3.InvalidParameter, e);
      if (null === l2[0])
        return [];
      if (!(l2[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return null === l2[1] ? [c(l2[0])] : w(l2[0], l2[1]);
    });
  }, n2.functions.area = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, async (n3, a3, l2) => {
      if (ne(l2, 1, 2, t3, e), null === (l2 = ke(l2))[0])
        return 0;
      if (H(l2[0])) {
        const n4 = await l2[0].sumArea(r2(L(l2[1], -1)), false, t3.abortSignal);
        if (t3.abortSignal.aborted)
          throw new a2(t3, r3.Cancelled, e);
        return n4;
      }
      if (q(l2[0]) || $(l2[0])) {
        const n4 = je(l2[0], t3.spatialReference);
        return null === n4 ? 0 : W(n4, r2(L(l2[1], -1)));
      }
      if (!(l2[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return W(l2[0], r2(L(l2[1], -1)));
    });
  }, n2.functions.areageodetic = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, async (n3, a3, l2) => {
      if (ne(l2, 1, 2, t3, e), null === (l2 = ke(l2))[0])
        return 0;
      if (H(l2[0])) {
        const n4 = await l2[0].sumArea(r2(L(l2[1], -1)), true, t3.abortSignal);
        if (t3.abortSignal.aborted)
          throw new a2(t3, r3.Cancelled, e);
        return n4;
      }
      if (q(l2[0]) || $(l2[0])) {
        const n4 = je(l2[0], t3.spatialReference);
        return null === n4 ? 0 : K2(n4, r2(L(l2[1], -1)));
      }
      if (!(l2[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return K2(l2[0], r2(L(l2[1], -1)));
    });
  }, n2.functions.length = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, async (n3, a3, o) => {
      if (ne(o, 1, 2, t3, e), null === (o = ke(o))[0])
        return 0;
      if (H(o[0])) {
        const n4 = await o[0].sumLength(a(L(o[1], -1)), false, t3.abortSignal);
        if (t3.abortSignal.aborted)
          throw new a2(t3, r3.Cancelled, e);
        return n4;
      }
      if (q(o[0]) || $(o[0])) {
        const n4 = Me(o[0], t3.spatialReference);
        return null === n4 ? 0 : F(n4, a(L(o[1], -1)));
      }
      if (!(o[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return F(o[0], a(L(o[1], -1)));
    });
  }, n2.functions.length3d = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      if (ne(o, 1, 2, t3, e), null === (o = ke(o))[0])
        return 0;
      if (q(o[0]) || $(o[0])) {
        const n4 = Me(o[0], t3.spatialReference);
        return null === n4 ? 0 : true === n4.hasZ ? In(n4, a(L(o[1], -1))) : F(n4, a(L(o[1], -1)));
      }
      if (!(o[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return true === o[0].hasZ ? In(o[0], a(L(o[1], -1))) : F(o[0], a(L(o[1], -1)));
    });
  }, n2.functions.lengthgeodetic = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, async (n3, a3, o) => {
      if (ne(o, 1, 2, t3, e), null === (o = ke(o))[0])
        return 0;
      if (H(o[0])) {
        const n4 = await o[0].sumLength(a(L(o[1], -1)), true, t3.abortSignal);
        if (t3.abortSignal.aborted)
          throw new a2(t3, r3.Cancelled, e);
        return n4;
      }
      if (q(o[0]) || $(o[0])) {
        const n4 = Me(o[0], t3.spatialReference);
        return null === n4 ? 0 : M2(n4, a(L(o[1], -1)));
      }
      if (!(o[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return M2(o[0], a(L(o[1], -1)));
    });
  }, n2.functions.distance = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      o = ke(o), ne(o, 2, 3, t3, e);
      let c2 = o[0];
      (q(o[0]) || $(o[0])) && (c2 = Fe(o[0], t3.spatialReference));
      let f = o[1];
      if ((q(o[1]) || $(o[1])) && (f = Fe(o[1], t3.spatialReference)), !(c2 instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      if (!(f instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return d(c2, f, a(L(o[2], -1)));
    });
  }, n2.functions.distancegeodetic = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      o = ke(o), ne(o, 2, 3, t3, e);
      const c2 = o[0], f = o[1];
      if (!(c2 instanceof x))
        throw new a2(t3, r3.InvalidParameter, e);
      if (!(f instanceof x))
        throw new a2(t3, r3.InvalidParameter, e);
      const d2 = new m({ paths: [], spatialReference: c2.spatialReference });
      return d2.addPath([c2, f]), M2(d2, a(L(o[2], -1)));
    });
  }, n2.functions.densify = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      if (o = ke(o), ne(o, 2, 3, t3, e), null === o[0])
        return null;
      if (!(o[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      const c2 = pe(o[1]);
      if (isNaN(c2))
        throw new a2(t3, r3.InvalidParameter, e);
      if (c2 <= 0)
        throw new a2(t3, r3.InvalidParameter, e);
      return o[0] instanceof j2 || o[0] instanceof m ? C(o[0], c2, a(L(o[2], -1))) : o[0] instanceof M ? C(vn(o[0]), c2, a(L(o[2], -1))) : o[0];
    });
  }, n2.functions.densifygeodetic = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      if (o = ke(o), ne(o, 2, 3, t3, e), null === o[0])
        return null;
      if (!(o[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      const c2 = pe(o[1]);
      if (isNaN(c2))
        throw new a2(t3, r3.InvalidParameter, e);
      if (c2 <= 0)
        throw new a2(t3, r3.InvalidParameter, e);
      return o[0] instanceof j2 || o[0] instanceof m ? U(o[0], c2, a(L(o[2], -1))) : o[0] instanceof M ? U(vn(o[0]), c2, a(L(o[2], -1))) : o[0];
    });
  }, n2.functions.generalize = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      if (o = ke(o), ne(o, 2, 4, t3, e), null === o[0])
        return null;
      if (!(o[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      const c2 = pe(o[1]);
      if (isNaN(c2))
        throw new a2(t3, r3.InvalidParameter, e);
      return B(o[0], c2, be(L(o[2], true)), a(L(o[3], -1)));
    });
  }, n2.functions.buffer = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, o, c2) => {
      if (c2 = ke(c2), ne(c2, 2, 3, t3, e), null === c2[0])
        return null;
      if (!(c2[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      const f = pe(c2[1]);
      if (isNaN(f))
        throw new a2(t3, r3.InvalidParameter, e);
      return 0 === f ? c(c2[0]) : L2(c2[0], f, a(L(c2[2], -1)));
    });
  }, n2.functions.buffergeodetic = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, o, c2) => {
      if (c2 = ke(c2), ne(c2, 2, 3, t3, e), null === c2[0])
        return null;
      if (!(c2[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      const f = pe(c2[1]);
      if (isNaN(f))
        throw new a2(t3, r3.InvalidParameter, e);
      return 0 === f ? c(c2[0]) : P(c2[0], f, a(L(c2[2], -1)));
    });
  }, n2.functions.offset = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      if (o = ke(o), ne(o, 2, 6, t3, e), null === o[0])
        return null;
      if (!(o[0] instanceof j2 || o[0] instanceof m))
        throw new a2(t3, r3.InvalidParameter, e);
      const c2 = pe(o[1]);
      if (isNaN(c2))
        throw new a2(t3, r3.InvalidParameter, e);
      const f = pe(L(o[4], 10));
      if (isNaN(f))
        throw new a2(t3, r3.InvalidParameter, e);
      const d2 = pe(L(o[5], 0));
      if (isNaN(d2))
        throw new a2(t3, r3.InvalidParameter, e);
      return v(o[0], c2, a(L(o[2], -1)), ce(L(o[3], "round")).toLowerCase(), f, d2);
    });
  }, n2.functions.rotate = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      o = ke(o), ne(o, 2, 3, t3, e);
      let l2 = o[0];
      if (null === l2)
        return null;
      if (!(l2 instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      l2 instanceof M && (l2 = j2.fromExtent(l2));
      const c2 = pe(o[1]);
      if (isNaN(c2))
        throw new a2(t3, r3.InvalidParameter, e);
      const f = L(o[2], null);
      if (null === f)
        return H2(l2, c2);
      if (f instanceof x)
        return H2(l2, c2, f);
      throw new a2(t3, r3.InvalidParameter, e);
    });
  }, n2.functions.centroid = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, o, l2) => {
      if (l2 = ke(l2), ne(l2, 1, 1, t3, e), null === l2[0])
        return null;
      let c2 = l2[0];
      if ((q(l2[0]) || $(l2[0])) && (c2 = Fe(l2[0], t3.spatialReference)), null === c2)
        return null;
      if (!(c2 instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return c2 instanceof x ? Ne(c(l2[0]), t3.spatialReference) : c2 instanceof j2 ? c2.centroid : c2 instanceof m ? u2(c2) : c2 instanceof u ? y(c2) : c2 instanceof M ? c2.center : null;
    });
  }, n2.functions.multiparttosinglepart = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, async (n3, o, l2) => {
      l2 = ke(l2), ne(l2, 1, 1, t3, e);
      const c2 = [];
      if (null === l2[0])
        return null;
      if (!(l2[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      if (l2[0] instanceof x)
        return [Ne(c(l2[0]), t3.spatialReference)];
      if (l2[0] instanceof M)
        return [Ne(c(l2[0]), t3.spatialReference)];
      const f = await N2(l2[0]);
      if (f instanceof j2) {
        const n4 = [], t4 = [];
        for (let e2 = 0; e2 < f.rings.length; e2++)
          if (f.isClockwise(f.rings[e2])) {
            const t5 = p2({ rings: [f.rings[e2]], hasZ: true === f.hasZ, hazM: true === f.hasM, spatialReference: f.spatialReference.toJSON() });
            n4.push(t5);
          } else
            t4.push({ ring: f.rings[e2], pt: f.getPoint(e2, 0) });
        for (let e2 = 0; e2 < t4.length; e2++)
          for (let r5 = 0; r5 < n4.length; r5++)
            if (n4[r5].contains(t4[e2].pt)) {
              n4[r5].addRing(t4[e2].ring);
              break;
            }
        return n4;
      }
      if (f instanceof m) {
        const n4 = [];
        for (let t4 = 0; t4 < f.paths.length; t4++) {
          const e2 = p2({ paths: [f.paths[t4]], hasZ: true === f.hasZ, hazM: true === f.hasM, spatialReference: f.spatialReference.toJSON() });
          n4.push(e2);
        }
        return n4;
      }
      if (l2[0] instanceof u) {
        const n4 = Ne(c(l2[0]), t3.spatialReference);
        for (let t4 = 0; t4 < n4.points.length; t4++)
          c2.push(n4.getPoint(t4));
        return c2;
      }
      return null;
    });
  }, n2.functions.issimple = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      if (o = ke(o), ne(o, 1, 1, t3, e), null === o[0])
        return true;
      if (!(o[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return J(o[0]);
    });
  }, n2.functions.simplify = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      if (o = ke(o), ne(o, 1, 1, t3, e), null === o[0])
        return null;
      if (!(o[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return N2(o[0]);
    });
  }, n2.functions.convexhull = function(t3, e) {
    return n2.standardFunctionAsync(t3, e, (n3, a3, o) => {
      if (o = ke(o), ne(o, 1, 1, t3, e), null === o[0])
        return null;
      if (!(o[0] instanceof p))
        throw new a2(t3, r3.InvalidParameter, e);
      return j3(o[0]);
    });
  }, n2.functions.getuser = function(a3, o) {
    return n2.standardFunctionAsync(a3, o, async (n3, l2, s) => {
      var _a, _b;
      ne(s, 0, 2, a3, o);
      let c2 = L(s[1], ""), f = true === c2;
      if (c2 = true === c2 || false === c2 ? "" : ce(c2), 0 === s.length || s[0] instanceof t2) {
        let n4 = null;
        n4 = ((_a = a3.services) == null ? void 0 : _a.portal) ? a3.services.portal : j4.getDefault(), s.length > 0 && (n4 = l(s[0], n4));
        const t3 = await n(n4, c2, f);
        if (t3) {
          const n5 = JSON.parse(JSON.stringify(t3));
          for (const t4 of ["lastLogin", "created", "modified"])
            void 0 !== n5[t4] && null !== n5[t4] && (n5[t4] = new Date(n5[t4]));
          return N.convertObjectToArcadeDictionary(n5, qe(a3));
        }
        return null;
      }
      let d2 = null;
      if (H(s[0]) && (d2 = s[0]), d2) {
        if (f = false, c2)
          return null;
        await d2.load();
        const n4 = await d2.getOwningSystemUrl();
        if (!n4) {
          if (!c2) {
            const n5 = await d2.getIdentityUser();
            return n5 ? N.convertObjectToArcadeDictionary({ username: n5 }, qe(a3)) : null;
          }
          return null;
        }
        let r5 = null;
        r5 = ((_b = a3.services) == null ? void 0 : _b.portal) ? a3.services.portal : j4.getDefault(), r5 = l(new t2(n4), r5);
        const i2 = await n(r5, c2, f);
        if (i2) {
          const n5 = JSON.parse(JSON.stringify(i2));
          for (const t3 of ["lastLogin", "created", "modified"])
            void 0 !== n5[t3] && null !== n5[t3] && (n5[t3] = new Date(n5[t3]));
          return N.convertObjectToArcadeDictionary(n5, qe(a3));
        }
        return null;
      }
      throw new a2(a3, r3.InvalidParameter, o);
    });
  }), n2.functions.nearestcoordinate = function(t3, a3) {
    return n2.standardFunctionAsync(t3, a3, async (n3, o, l2) => {
      if (l2 = ke(l2), ne(l2, 2, 2, t3, a3), !(l2[0] instanceof p || null === l2[0]))
        throw new a2(t3, r3.InvalidParameter, a3);
      if (!(l2[1] instanceof x || null === l2[1]))
        throw new a2(t3, r3.InvalidParameter, a3);
      if (null === l2[0] || null === l2[1])
        return null;
      const c2 = await T(l2[0], l2[1]);
      return null === c2 ? null : N.convertObjectToArcadeDictionary({ coordinate: c2.coordinate, distance: c2.distance }, qe(t3), false, true);
    });
  }, n2.functions.nearestvertex = function(t3, a3) {
    return n2.standardFunctionAsync(t3, a3, async (n3, o, l2) => {
      if (l2 = ke(l2), ne(l2, 2, 2, t3, a3), !(l2[0] instanceof p || null === l2[0]))
        throw new a2(t3, r3.InvalidParameter, a3);
      if (!(l2[1] instanceof x || null === l2[1]))
        throw new a2(t3, r3.InvalidParameter, a3);
      if (null === l2[0] || null === l2[1])
        return null;
      const c2 = await V(l2[0], l2[1]);
      return null === c2 ? null : N.convertObjectToArcadeDictionary({ coordinate: c2.coordinate, distance: c2.distance }, qe(t3), false, true);
    });
  };
}

export {
  An
};
//# sourceMappingURL=chunk-PVKEAL5T.js.map
