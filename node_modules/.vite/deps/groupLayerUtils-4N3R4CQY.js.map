{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/save/groupLayerUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as r}from\"./utils.js\";import{createForGroupLayerItemWrite as t}from\"../../portal/support/jsonContext.js\";import{TypeKeyword as s,hasTypeKeyword as a,addTypeKeyword as o}from\"../../portal/support/portalItemUtils.js\";import{saveResources as n}from\"../../webdoc/support/saveUtils.js\";const i=\"Group Layer\",u=\"group-layer-save\",c=\"group-layer-save-as\",l=s.GROUP_LAYER_MAP;function p(e){return{isValid:\"group\"===e.type,errorMessage:\"Layer.type should be 'group'\"}}function m(e){return{isValid:a(e,l),errorMessage:`Layer.portalItem.typeKeywords should have '${l}'`}}function y(e){const r=e.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}async function f(e,r){r.title||=e.title,o(r,l)}async function v(r,s){return e({layer:r,itemType:i,validateLayer:p,validateItem:m,createJSONContext:e=>t(e,r),createItemData:y,errorNamePrefix:u,saveResources:async(e,t)=>(r.sourceIsPortalItem||await e.removeAllResources().catch((()=>{})),n(r.resourceReferences,t))},s)}async function d(e,s,a){return r({layer:e,itemType:i,validateLayer:p,createJSONContext:r=>t(r,e),createItemData:y,errorNamePrefix:c,newItem:s,setItemProperties:f,saveResources:(r,t)=>n(e.resourceReferences,t)},a)}export{v as save,d as saveAs};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIiT,IAAMA,KAAE;AAAR,IAAsBC,KAAE;AAAxB,IAA2C,IAAE;AAA7C,IAAmE,IAAE,EAAE;AAAgB,SAAS,EAAE,GAAE;AAAC,SAAM,EAAC,SAAQ,YAAU,EAAE,MAAK,cAAa,+BAA8B;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,SAAM,EAAC,SAAQ,EAAE,GAAE,CAAC,GAAE,cAAa,8CAA8C,CAAC,IAAG;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,QAAM,IAAE,EAAE;AAAU,SAAO,QAAQ,QAAQ,KAAG,OAAO,KAAK,CAAC,EAAE,SAAO,IAAE,IAAI;AAAC;AAAC,eAAeC,GAAE,GAAE,GAAE;AAAC,IAAE,UAAF,EAAE,QAAQ,EAAE,QAAM,EAAE,GAAE,CAAC;AAAC;AAAC,eAAe,EAAE,GAAEC,IAAE;AAAC,SAAO,EAAE,EAAC,OAAM,GAAE,UAASH,IAAE,eAAc,GAAE,cAAa,GAAE,mBAAkB,OAAG,EAAE,GAAE,CAAC,GAAE,gBAAe,GAAE,iBAAgBC,IAAE,eAAc,OAAM,GAAE,OAAK,EAAE,sBAAoB,MAAM,EAAE,mBAAmB,EAAE,MAAO,MAAI;AAAA,EAAC,CAAE,GAAE,EAAE,EAAE,oBAAmB,CAAC,GAAE,GAAEE,EAAC;AAAC;AAAC,eAAe,EAAE,GAAEA,IAAEC,IAAE;AAAC,SAAO,EAAE,EAAC,OAAM,GAAE,UAASJ,IAAE,eAAc,GAAE,mBAAkB,OAAG,EAAE,GAAE,CAAC,GAAE,gBAAe,GAAE,iBAAgB,GAAE,SAAQG,IAAE,mBAAkBD,IAAE,eAAc,CAAC,GAAE,MAAI,EAAE,EAAE,oBAAmB,CAAC,EAAC,GAAEE,EAAC;AAAC;",
  "names": ["i", "u", "f", "s", "a"]
}
