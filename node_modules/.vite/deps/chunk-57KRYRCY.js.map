{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/graphics/data/projectionSupport.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{isSome as s}from\"../../../core/arrayUtils.js\";import{createResolver as t}from\"../../../core/promiseUtils.js\";import{initializeProjection as e,projectMany as n}from\"../../../geometry/projection.js\";import{jsonAdapter as r}from\"../../../geometry/geometryAdapters/json.js\";import{isValid as i,equals as o,isWebMercator as a}from\"../../../geometry/support/spatialReferenceUtils.js\";import{lngLatToXY as m,xyToLngLat as p,canProject as u}from\"../../../geometry/support/webMercatorUtils.js\";const c=[0,0];function h(s,t){if(!t)return null;if(\"x\"in t){const e={x:0,y:0};return[e.x,e.y]=s(t.x,t.y,c),null!=t.z&&(e.z=t.z),null!=t.m&&(e.m=t.m),e}if(\"xmin\"in t){const e={xmin:0,ymin:0,xmax:0,ymax:0};return[e.xmin,e.ymin]=s(t.xmin,t.ymin,c),[e.xmax,e.ymax]=s(t.xmax,t.ymax,c),t.hasZ&&(e.zmin=t.zmin,e.zmax=t.zmax,e.hasZ=!0),t.hasM&&(e.mmin=t.mmin,e.mmax=t.mmax,e.hasM=!0),e}return\"rings\"in t?{rings:l(t.rings,s),hasM:t.hasM,hasZ:t.hasZ}:\"paths\"in t?{paths:l(t.paths,s),hasM:t.hasM,hasZ:t.hasZ}:\"points\"in t?{points:f(t.points,s),hasM:t.hasM,hasZ:t.hasZ}:null}function l(s,t){const e=[];for(const n of s)e.push(f(n,t));return e}function f(s,t){const e=[];for(const n of s){const s=t(n[0],n[1],[0,0]);e.push(s),n.length>2&&s.push(n[2]),n.length>3&&s.push(n[3])}return e}async function x(t,n){if(!t||!n)return;const r=Array.isArray(t)?t.map((s=>null!=s.geometry?s.geometry.spatialReference:null)).filter(s):[t];await e(r.map((s=>({source:s,dest:n}))))}const y=h.bind(null,m),g=h.bind(null,p);function j(s,t,e,m){if(!s)return s;if(e||(e=t,t=s.spatialReference),!i(t)||!i(e)||o(t,e))return s;if(u(t,e)){const t=a(e)?y(s):g(s);return t.spatialReference=e,t}return n(r,[s],t,e,null,m)[0]}class _{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(s,e,n,r){if(!s?.length||!e||!n||o(e,n))return s;const i={geometries:s,inSpatialReference:e,outSpatialReference:n,geographicTransformation:r,resolve:t()};return this._jobs.push(i),this._timer??=setTimeout(this._process,10),i.resolve.promise}_process(){this._timer=null;const s=this._jobs.shift();if(!s)return;const{geometries:t,inSpatialReference:e,outSpatialReference:i,resolve:o,geographicTransformation:m}=s;u(e,i)?a(i)?o(t.map(y)):o(t.map(g)):o(n(r,t,e,i,m,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}}const M=new _;function b(s,t,e,n){return M.push(s,t,e,n)}export{x as checkProjectionSupport,j as project,b as projectMany};\n"],
  "mappings": "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",
  "names": ["s", "t", "x", "y", "M"]
}
