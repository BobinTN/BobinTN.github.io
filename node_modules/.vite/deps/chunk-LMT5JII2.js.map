{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/persistableUrlUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{makeAbsolute as e,makeRelative as r,isAbsolute as t,normalize as o,isDataProtocol as s,splitPathExtension as n,changeDomain as l,hasSameOrigin as a,getAppUrl as u}from\"../core/urlUtils.js\";function i(t,o){const s=o?.url?.path;if(t&&s&&(t=e(t,s,{preserveProtocolRelative:!0}),o.portalItem&&o.readResourcePaths)){const e=r(t,o.portalItem.itemUrl);null!=e&&h.test(e)&&o.readResourcePaths.push(o.portalItem.resourceFromPath(e).path)}return I(t,o?.portal)}function c(n,l,a=R.YES){if(null==n)return n;!t(n)&&l?.blockedRelativeUrls&&l.blockedRelativeUrls.push(n);let u=e(n);if(l){const e=l.verifyItemRelativeUrls?.rootPath||l.url?.path;if(e){const t=I(e,l.portal),o=I(u,l.portal);u=r(o,t,t);null!=u&&u!==o&&u!==n&&l.verifyItemRelativeUrls&&l.verifyItemRelativeUrls.writtenUrls.push(u)}}return u=d(u,l?.portal),t(u)&&(u=o(u)),l?.resources&&l?.portalItem&&!t(u)&&!s(u)&&a===R.YES&&l.resources.toKeep.push({resource:l.portalItem.resourceFromPath(u),compress:!1}),u}function m(e,r,t){return i(e,t)}function p(e,r,t,o){const s=c(e,o);void 0!==s&&(r[t]=s)}const f=/\\/items\\/([^\\/]+)\\/resources\\/(.*)/,h=/^\\.\\/resources\\//;function U(e){const r=e?.match(f)??null;return r?.[1]??null}function v(e){const r=e?.match(f)??null;if(null==r)return null;const t=r[2],o=t.lastIndexOf(\"/\");if(-1===o){const{path:e,extension:r}=n(t);return{prefix:null,filename:e,extension:r}}const{path:s,extension:l}=n(t.slice(o+1));return{prefix:t.slice(0,o),filename:s,extension:l}}function d(e,r){return r&&!r.isPortal&&r.urlKey&&r.customBaseUrl?l(e,`${r.urlKey}.${r.customBaseUrl}`,r.portalHostname):e}function I(e,r){if(!r||r.isPortal||!r.urlKey||!r.customBaseUrl)return e;const t=`${r.urlKey}.${r.customBaseUrl}`,o=u();return a(o,`${o.scheme}://${t}`)?l(e,r.portalHostname,t):l(e,t,r.portalHostname)}var R;!function(e){e[e.YES=0]=\"YES\",e[e.NO=1]=\"NO\"}(R||(R={}));const x=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return R},ensureMainOnlineDomain:d,fromJSON:i,itemIdFromResourceUrl:U,prefixAndFilenameFromResourceUrl:v,read:m,toJSON:c,write:p},Symbol.toStringTag,{value:\"Module\"}));export{R as M,x as a,d as e,i as f,U as i,v as p,m as r,c as t,p as w};\n"],
  "mappings": "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",
  "names": ["e", "r"]
}
