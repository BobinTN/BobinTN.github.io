{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/support/mathUtils.js", "../../@arcgis/core/geometry/support/plane.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{acosClamped as t}from\"../../../core/mathUtils.js\";import{s as n,j as s,n as a,b as r,l as o,i as c,g as u,p as i,f as h}from\"../../../chunks/vec3.js\";import{c as f}from\"../../../chunks/vec3f64.js\";function M(t,n){return t>n?Math.cos(n):Math.cos(t)}function e(t,n,s){return 2*Math.atan(s*Math.tan(.5*t)/n)}function m(t,n,s){return 2*Math.atan(n*Math.tan(.5*t)/s)}function p(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],s=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],a=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,s,a))}function j(t,s){const a=Math.sqrt(s[0]*s[0]+s[4]*s[4]+s[8]*s[8]),r=Math.sqrt(s[1]*s[1]+s[5]*s[5]+s[9]*s[9]),o=Math.sqrt(s[2]*s[2]+s[6]*s[6]+s[10]*s[10]);return n(t,a,r,o),t}function l(t,r,o){o=o||t;const c=s(t,r);n(o,t[0]-c*r[0],t[1]-c*r[1],t[2]-c*r[2]),a(o,o)}function q(t,s,o){Math.abs(t[0])>Math.abs(t[1])?n(s,0,1,0):n(s,1,0,0),r(o,t,s),a(s,s),r(s,o,t),a(o,o)}function b(t,n,s,a,r,o){const c=t+(n-t)*r;return c+(s+(a-s)*r-c)*o}function g(t,n,a,r=f()){const h=o(t),M=o(n),e=s(t,n)/(h*M);if(e<.9999999999999999){const s=Math.acos(e),o=((1-a)*h+a*M)/Math.sin(s),i=o/h*Math.sin((1-a)*s),f=o/M*Math.sin(a*s);return c(z,t,i),c(A,n,f),u(r,z,A)}return i(r,t,n,a)}function k(t,n,r,M=f(),e=f()){const m=o(t),p=o(n),j=s(t,n)/(m*p);if(j<.9999999999999999){const s=Math.acos(j),a=Math.sin(s),o=Math.sin(r*s),i=Math.sin((1-r)*s),h=(1-r)*m+r*p;{const s=h/a,r=s/p*o;c(z,t,s/m*i),c(A,n,r),u(M,z,A)}{const f=1/m*(-Math.cos((1-r)*s)*s*h+i*(-m+p));c(z,t,f);const M=1/p*(Math.cos(r*s)*s*h+o*(-m+p));c(A,n,M),u(e,z,A),c(e,e,1/a)}return e}return i(M,t,n,r),h(e,n,t),a(e,e),e}function v(n,o,c){n=a(z,n),o=a(A,o);const u=t(s(n,o));if(c){const t=r(y,n,o);if(s(t,c)<0)return-u}return u}function x(t){const n=t.length;return s=>{if(s<=t[0][0])return t[0][1];if(s>=t[n-1][0])return t[n-1][1];let a=1;for(;s>t[a][0];)a++;const r=t[a-1][0],o=t[a][0],c=(o-s)/(o-r);return c*t[a-1][1]+(1-c)*t[a][1]}}function U(t,n,o,c){h(d,n,t),h(w,o,t),r(c,d,w),a(c,c),c[3]=-s(t,c)}const d=f(),w=f(),y=f(),z=f(),A=f();export{v as angle,b as bilerp,M as cosCapped,e as fovx2fovy,m as fovy2fovx,l as makeOrthonormal,x as makePiecewiseLinearFunction,p as maxScale,U as planeFromPoints,j as scaleFromMatrix,g as slerp,k as slerpTangent,q as tangentFrame};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{c as n,h as r,f as o,n as c,j as u,s as e,b as i,m as s,i as f,g as a}from\"../../chunks/vec3.js\";import{c as I}from\"../../chunks/vec3f64.js\";import{h as N,e as M}from\"../../chunks/vec4.js\";import{g as h}from\"../../chunks/common.js\";import{g as m}from\"../../chunks/sphere.js\";import{projectPointSignedLength as g}from\"./vector.js\";import{sv4d as p,sv3d as E}from\"./vectorStacks.js\";import{tangentFrame as j}from\"../../views/3d/support/mathUtils.js\";function b(t=ut){return[t[0],t[1],t[2],t[3]]}const l=N,v=M;function A(t=ut[0],n=ut[1],r=ut[2],o=ut[3]){return T(t,n,r,o,p.get())}function F(t,n){return T(n[0],n[1],n[2],n[3],t)}function T(t,n,r,o,c=b()){return c[0]=t,c[1]=n,c[2]=r,c[3]=o,c}function _(t,r,o){return n(o,t),o[3]=r,o}function k(t,n,r){const o=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],c=Math.abs(o-1)>1e-5&&o>1e-12?1/Math.sqrt(o):1;return r[0]=n[0]*c,r[1]=n[1]*c,r[2]=n[2]*c,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function d(t,n,r,o=b()){const c=r[0]-n[0],u=r[1]-n[1],e=r[2]-n[2],i=t[0]-n[0],s=t[1]-n[1],f=t[2]-n[2],a=u*f-e*s,I=e*i-c*f,N=c*s-u*i,M=a*a+I*I+N*N,h=Math.abs(M-1)>1e-5&&M>1e-12?1/Math.sqrt(M):1;return o[0]=a*h,o[1]=I*h,o[2]=N*h,o[3]=-(o[0]*t[0]+o[1]*t[1]+o[2]*t[2]),o}function X(t,n,e,i=0,s=Math.floor(e*(1/3)),f=Math.floor(e*(2/3))){if(e<3)return!1;n(L,i);let a=s,I=!1;for(;a<e-1&&!I;)n(P,a),a++,I=!r(L,P);if(!I)return!1;for(a=Math.max(a,f),I=!1;a<e&&!I;)n(O,a),a++,o(q,L,P),c(q,q),o(x,P,O),c(x,x),I=!r(L,O)&&!r(P,O)&&Math.abs(u(q,x))<C;return I?(d(L,P,O,t),!0):(0!==i||1!==s||2!==f)&&X(t,n,e,0,1,2)}function y(t,n,r=!0){const o=n.length/3;return X(t,((t,r)=>e(t,n[3*r+0],n[3*r+1],n[3*r+2])),r?o-1:o)}const C=.99619469809,L=I(),P=I(),O=I(),q=I(),x=I();function U(t,n,r){return n!==t&&F(t,n),t[3]=-u(ot(t),r),t}function w(t,n){return n[0]=-t[0],n[1]=-t[1],n[2]=-t[2],n[3]=-t[3],n}function S(t,n,r,o){return i(O,n,t),k(r,O,o)}function z(t,n,r,c){return rt(t,n,o(E.get(),r,n),it,c)}function B(t,n,r){return null!=n&&rt(t,n.origin,n.direction,st,r)}function D(t,n,r){return rt(t,n.origin,n.vector,et.NONE,r)}function G(t,n,r){return rt(t,n.origin,n.vector,et.CLAMP,r)}const H=(()=>{const t=I();return(r,o,u)=>{const e=ot(r),f=ot(o);i(t,e,f);if(s(t)<h())return!1;c(t,t);const[a,I,N]=t,M=u.origin,m=Math.abs(a),g=Math.abs(I),p=Math.abs(N),[E,j,b]=e,[l,v,A]=f,F=r[3],T=o[3];return m>g&&m>p?(M[1]=(T*b-F*A)/a,M[2]=(F*v-T*j)/a):g>p?(M[0]=(F*A-T*b)/I,M[2]=(T*E-F*l)/I):(M[0]=(T*j-F*v)/N,M[1]=(F*l-T*E)/N),n(u.direction,t),!0}})();function J(t,n){return nt(t,m(n))-n[3]>=0}function K(t,n){return nt(t,m(n))+n[3]<0}function Q(t,n){return nt(t,n)>=0}function R(t,n){return nt(t,n)<0}function V(t,n){const r=u(ot(t),n.ray.direction),o=-nt(t,n.ray.origin);if(o<0&&r>=0)return!1;if(r>-1e-6&&r<1e-6)return o>0;if((o<0||r<0)&&!(o<0&&r<0))return!0;const c=o/r;return r>0?c<n.c1&&(n.c1=c):c>n.c0&&(n.c0=c),n.c0<=n.c1}function W(t,n){const r=u(ot(t),n.ray.direction),o=-nt(t,n.ray.origin);if(r>-1e-6&&r<1e-6)return o>0;const c=o/r;return r>0?c<n.c1&&(n.c1=c):c>n.c0&&(n.c0=c),n.c0<=n.c1}function Y(t,n,r){const c=f(E.get(),ot(t),-t[3]),u=$(t,o(E.get(),n,c),E.get());return a(r,u,c),r}function Z(t,n,r,c){const u=ot(t),i=E.get(),s=E.get();j(u,i,s);const f=o(E.get(),r,n),a=g(i,f),I=g(s,f),N=g(u,f);return e(c,a,I,N)}function $(t,n,r){const c=f(E.get(),ot(t),u(ot(t),n));return o(r,n,c),r}function tt(t,n){return Math.abs(nt(t,n))}function nt(t,n){return u(ot(t),n)+t[3]}function rt(n,r,o,c,e){const i=u(ot(n),o);if(0===i)return!1;let s=-(u(ot(n),r)+n[3])/i;return c&et.CLAMP&&(s=t(s,0,1)),!(!(c&et.INFINITE_MIN)&&s<0||!(c&et.INFINITE_MAX)&&s>1)&&(a(e,r,f(e,o,s)),!0)}function ot(t){return t}function ct(t){return Math.abs(ot(t)[2])<h()}const ut=[0,0,1,0];var et;!function(t){t[t.NONE=0]=\"NONE\",t[t.CLAMP=1]=\"CLAMP\",t[t.INFINITE_MIN=4]=\"INFINITE_MIN\",t[t.INFINITE_MAX=8]=\"INFINITE_MAX\"}(et||(et={}));const it=et.INFINITE_MIN|et.INFINITE_MAX,st=et.INFINITE_MAX;export{V as clip,W as clipInfinite,F as copy,b as create,tt as distance,v as equals,l as exactEquals,y as fromArray,X as fromManyPoints,_ as fromNormalAndOffset,d as fromPoints,k as fromPositionAndNormal,T as fromValues,S as fromVectorsAndPoint,z as intersectLine,D as intersectLineSegment,G as intersectLineSegmentClamp,H as intersectPlanes,B as intersectRay,Q as isPointInside,R as isPointOutside,J as isSphereFullyInside,K as isSphereFullyOutside,ct as isVertical,w as negate,ot as normal,Y as projectPoint,Z as projectPointLocal,$ as projectVector,U as setOffsetFromPoint,nt as signedDistance,ut as up,A as wrap};\n"],
  "mappings": "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",
  "names": ["z", "A", "d", "n", "r", "o", "c", "u", "e", "i", "s", "a", "P", "q", "P", "q", "r", "o", "u", "e", "a", "g", "E", "b", "l", "v", "A", "F"]
}
