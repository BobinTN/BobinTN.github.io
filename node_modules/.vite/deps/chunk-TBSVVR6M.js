import {
  P
} from "./chunk-LXXF7K7W.js";
import {
  c2 as c,
  e,
  m,
  r,
  t,
  t2,
  u
} from "./chunk-RFPH3ZTZ.js";
import {
  l
} from "./chunk-WGO3VFQP.js";

// node_modules/@arcgis/core/core/reactiveUtils.js
function d3(n, e2, t3 = {}) {
  return y(n, e2, t3, L);
}
function p(n, e2, t3 = {}) {
  return y(n, e2, t3, M);
}
function y(n, e2, t3 = {}, o) {
  let r2 = null;
  const s = t3.once ? (n2, t4) => {
    o(n2) && (l(r2), e2(n2, t4));
  } : (n2, t4) => {
    o(n2) && e2(n2, t4);
  };
  if (r2 = P(n, s, t3.sync, t3.equals), t3.initial) {
    const e3 = n();
    s(e3, e3);
  }
  return r2;
}
function v(n, e2, r2, s = {}) {
  let u2 = null, l2 = null, a = null;
  function f() {
    var _a;
    u2 && l2 && (l2.remove(), (_a = s.onListenerRemove) == null ? void 0 : _a.call(s, u2), u2 = null, l2 = null);
  }
  function m2(n2) {
    s.once && s.once && l(a), r2(n2);
  }
  const p2 = d3(n, (n2, r3) => {
    var _a;
    f(), t2(n2) && (u2 = n2, l2 = r(n2, e2, m2), (_a = s.onListenerAdd) == null ? void 0 : _a.call(s, n2));
  }, { sync: s.sync, initial: true });
  return a = e(() => {
    p2.remove(), f();
  }), a;
}
function w(n, e2) {
  return h(n, M, e2);
}
function h(n, e2, t3) {
  if (c(t3))
    return Promise.reject(u());
  const o = n();
  if (e2 == null ? void 0 : e2(o))
    return Promise.resolve(o);
  let s = null;
  function i2() {
    s = l(s);
  }
  return new Promise((o2, c3) => {
    s = t([m(t3, () => {
      i2(), c3(u());
    }), y(n, (n2) => {
      i2(), o2(n2);
    }, { sync: false, once: true }, e2 ?? L)]);
  });
}
function L(n) {
  return true;
}
function M(n) {
  return !!n;
}
var C = { sync: true };
var P2 = { initial: true };
var A = { sync: true, initial: true };

export {
  d3 as d,
  p,
  v,
  w,
  C,
  P2 as P,
  A
};
//# sourceMappingURL=chunk-TBSVVR6M.js.map
