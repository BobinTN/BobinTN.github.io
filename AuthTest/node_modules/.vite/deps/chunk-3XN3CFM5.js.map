{
  "version": 3,
  "sources": ["../../@arcgis/core/symbols/cim/ExpandedCIM.js", "../../@arcgis/core/views/2d/layers/support/cimSymbolUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{WGLGeometryType as e,WGLSymbologyType as t}from\"../../views/2d/engine/webgl/enums.js\";import{createMaterialKey as a}from\"../../views/2d/engine/webgl/materialKey/MaterialKey.js\";const s={marker:e.MARKER,fill:e.FILL,line:e.LINE,text:e.TEXT};class l{constructor(e,l,n,r){const c={minScale:l?.minScale,maxScale:l?.maxScale},m=i(c);this.layers=e,this.data=l,this.hash=this._createHash()+m,this.rendererKey=n;const o={isOutline:!1,placement:null,symbologyType:t.DEFAULT,vvFlags:n};for(const t of e){const e=s[t.type];o.isOutline=\"line\"===t.type&&t.isOutline,t.materialKey=a(e,o),t.maxVVSize=r,t.scaleInfo=c,t.templateHash+=m}}get type(){return\"expanded-cim\"}_createHash(){let e=\"\";for(const t of this.layers)e+=t.templateHash;return e}}function i(e){return e.minScale||e.maxScale?e.minScale+\"-\"+e.maxScale:\"\"}export{l as ExpandedCIM};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{CIMAnalyzer as e}from\"../../../../symbols/cim/cimAnalyzer.js\";import{ExpandedCIM as t}from\"../../../../symbols/cim/ExpandedCIM.js\";const a=async(a,i,r)=>{const n=new e(r,i);return new t(await n.analyzeSymbolReference(a.data,!1),a.data,a.rendererKey,a.maxVVSize)};async function i(e,t,i,r){if(!e)return null;if(\"cim\"===e.type)return a(e,t,i);if(\"web-style\"===e.type){const{fetchCIMSymbolReference:n}=await import(\"./webStyleUtils.js\"),l={type:\"cim\",data:await n(e,null,r)??void 0,rendererKey:e.rendererKey,maxVVSize:e.maxVVSize};return a(l,t,i)}return e}function r(e){if(!e)return null;const{avoidSDFRasterization:t,type:a,cim:i,url:r,materialHash:n,maxVVSize:l}=e,m={cim:i,type:a,mosaicHash:n,url:r,size:null,dashTemplate:null,path:null,text:null,fontName:null,animatedSymbolProperties:null,avoidSDFRasterization:t};switch(a){case\"marker\":l&&\"size\"in i&&(i.size=Math.max(l,i.size)),m.size=e.size,m.path=e.path,m.animatedSymbolProperties=e.animatedSymbolProperties;break;case\"line\":m.dashTemplate=e.dashTemplate;break;case\"text\":m.text=e.text,m.fontName=e.fontName}return m}export{r as cimLayerToRasterizationInfo,i as expandSymbol};\n"],
  "mappings": ";;;;;;;;;;;;AAIwL,IAAM,IAAE,EAAC,QAAO,EAAE,QAAO,MAAK,EAAE,MAAK,MAAK,EAAE,MAAK,MAAK,EAAE,KAAI;AAAE,IAAM,IAAN,MAAO;AAAA,EAAC,YAAY,GAAEA,IAAE,GAAEC,IAAE;AAAC,UAAM,IAAE,EAAC,UAASD,MAAA,gBAAAA,GAAG,UAAS,UAASA,MAAA,gBAAAA,GAAG,SAAQ,GAAE,IAAE,EAAE,CAAC;AAAE,SAAK,SAAO,GAAE,KAAK,OAAKA,IAAE,KAAK,OAAK,KAAK,YAAY,IAAE,GAAE,KAAK,cAAY;AAAE,UAAM,IAAE,EAAC,WAAU,OAAG,WAAU,MAAK,eAAc,EAAE,SAAQ,SAAQ,EAAC;AAAE,eAAU,KAAK,GAAE;AAAC,YAAME,KAAE,EAAE,EAAE,IAAI;AAAE,QAAE,YAAU,WAAS,EAAE,QAAM,EAAE,WAAU,EAAE,cAAY,EAAEA,IAAE,CAAC,GAAE,EAAE,YAAUD,IAAE,EAAE,YAAU,GAAE,EAAE,gBAAc;AAAA,IAAC;AAAA,EAAC;AAAA,EAAC,IAAI,OAAM;AAAC,WAAM;AAAA,EAAc;AAAA,EAAC,cAAa;AAAC,QAAI,IAAE;AAAG,eAAU,KAAK,KAAK;AAAO,WAAG,EAAE;AAAa,WAAO;AAAA,EAAC;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,SAAO,EAAE,YAAU,EAAE,WAAS,EAAE,WAAS,MAAI,EAAE,WAAS;AAAE;;;ACA/pB,IAAM,IAAE,OAAME,IAAEC,IAAEC,OAAI;AAAC,QAAM,IAAE,IAAI,EAAEA,IAAED,EAAC;AAAE,SAAO,IAAI,EAAE,MAAM,EAAE,uBAAuBD,GAAE,MAAK,KAAE,GAAEA,GAAE,MAAKA,GAAE,aAAYA,GAAE,SAAS;AAAC;AAAE,eAAeC,GAAE,GAAE,GAAEA,IAAEC,IAAE;AAAC,MAAG,CAAC;AAAE,WAAO;AAAK,MAAG,UAAQ,EAAE;AAAK,WAAO,EAAE,GAAE,GAAED,EAAC;AAAE,MAAG,gBAAc,EAAE,MAAK;AAAC,UAAK,EAAC,yBAAwB,EAAC,IAAE,MAAM,OAAO,6BAAoB,GAAEE,KAAE,EAAC,MAAK,OAAM,MAAK,MAAM,EAAE,GAAE,MAAKD,EAAC,KAAG,QAAO,aAAY,EAAE,aAAY,WAAU,EAAE,UAAS;AAAE,WAAO,EAAEC,IAAE,GAAEF,EAAC;AAAA,EAAC;AAAC,SAAO;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,MAAG,CAAC;AAAE,WAAO;AAAK,QAAK,EAAC,uBAAsB,GAAE,MAAKD,IAAE,KAAIC,IAAE,KAAIC,IAAE,cAAa,GAAE,WAAUC,GAAC,IAAE,GAAE,IAAE,EAAC,KAAIF,IAAE,MAAKD,IAAE,YAAW,GAAE,KAAIE,IAAE,MAAK,MAAK,cAAa,MAAK,MAAK,MAAK,MAAK,MAAK,UAAS,MAAK,0BAAyB,MAAK,uBAAsB,EAAC;AAAE,UAAOF,IAAE;AAAA,IAAC,KAAI;AAAS,MAAAG,MAAG,UAASF,OAAIA,GAAE,OAAK,KAAK,IAAIE,IAAEF,GAAE,IAAI,IAAG,EAAE,OAAK,EAAE,MAAK,EAAE,OAAK,EAAE,MAAK,EAAE,2BAAyB,EAAE;AAAyB;AAAA,IAAM,KAAI;AAAO,QAAE,eAAa,EAAE;AAAa;AAAA,IAAM,KAAI;AAAO,QAAE,OAAK,EAAE,MAAK,EAAE,WAAS,EAAE;AAAA,EAAQ;AAAC,SAAO;AAAC;",
  "names": ["l", "r", "e", "a", "i", "r", "l"]
}
