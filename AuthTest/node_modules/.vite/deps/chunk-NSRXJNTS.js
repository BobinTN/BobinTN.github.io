import {
  e2,
  g,
  n2 as n,
  o3 as o,
  s as s3,
  u as u2,
  u2 as u3
} from "./chunk-LXXF7K7W.js";
import {
  a3 as a2,
  c,
  o3 as o2,
  s4,
  t,
  u
} from "./chunk-SBW6NNVI.js";
import {
  e
} from "./chunk-62CXLI6S.js";
import {
  a,
  s2 as s,
  s3 as s2
} from "./chunk-WJ3HJKNC.js";
import {
  h
} from "./chunk-4V6374PV.js";

// node_modules/@arcgis/core/core/accessorSupport/read.js
function s5(e4, r, o3) {
  if (!(e4 == null ? void 0 : e4.read) || false === e4.read.enabled || !e4.read.source)
    return false;
  const n3 = e4.read.source;
  if ("string" == typeof n3) {
    if (n3 === r)
      return true;
    if (n3.includes(".") && 0 === n3.indexOf(r) && s3(n3, o3))
      return true;
  } else
    for (const s7 of n3) {
      if (s7 === r)
        return true;
      if (s7.includes(".") && 0 === s7.indexOf(r) && s3(s7, o3))
        return true;
    }
  return false;
}
function i(e4) {
  return e4 && (!e4.read || false !== e4.read.enabled && !e4.read.source);
}
function f(e4, t3, r, n3, f4) {
  let a5 = s4(t3[r], f4);
  i(a5) && (e4[r] = true);
  for (const i2 of Object.getOwnPropertyNames(t3))
    a5 = s4(t3[i2], f4), s5(a5, r, n3) && (e4[i2] = true);
}
function a3(e4, t3, r, o3) {
  const s7 = r.metadatas, i2 = o2(s7[t3], o3), f4 = i2 == null ? void 0 : i2.default;
  if (void 0 === f4)
    return;
  const a5 = "function" == typeof f4 ? f4.call(e4, t3, o3) : f4;
  void 0 !== a5 && r.set(t3, a5);
}
var c2 = { origin: "service" };
function u4(t3, n3, s7 = c2) {
  if (!n3 || "object" != typeof n3)
    return;
  const i2 = t(t3), u6 = i2.metadatas, d3 = {};
  for (const e4 of Object.getOwnPropertyNames(n3))
    f(d3, u6, e4, n3, s7);
  i2.setDefaultOrigin(s7.origin);
  for (const r of Object.getOwnPropertyNames(d3)) {
    const f4 = s4(u6[r], s7).read, a5 = f4 == null ? void 0 : f4.source;
    let c4;
    c4 = a5 && "string" == typeof a5 ? u2(n3, a5) : n3[r], (f4 == null ? void 0 : f4.reader) && (c4 = f4.reader.call(t3, c4, n3, s7)), void 0 !== c4 && i2.set(r, c4);
  }
  if (!s7 || !s7.ignoreDefaults) {
    i2.setDefaultOrigin("defaults");
    for (const e4 of Object.getOwnPropertyNames(u6))
      d3[e4] || a3(t3, e4, i2, s7);
  }
  i2.setDefaultOrigin("user");
}
function d(e4, t3, r, o3 = c2) {
  var _a;
  const n3 = { ...o3, messages: [] };
  r(n3), (_a = n3.messages) == null ? void 0 : _a.forEach((t4) => {
    "warning" !== t4.type || e4.loaded ? (o3 == null ? void 0 : o3.messages) && o3.messages.push(t4) : e4.loadWarnings.push(t4);
  });
}

// node_modules/@arcgis/core/core/accessorSupport/write.js
function p(r, e4, t3, i2, o3) {
  var _a, _b;
  const n3 = {};
  return (_b = (_a = e4.write) == null ? void 0 : _a.writer) == null ? void 0 : _b.call(r, i2, n3, t3, o3), n3;
}
function f2(r, o3, u6, l, a5, p2) {
  if (!(l == null ? void 0 : l.write))
    return false;
  const f4 = o(r, u6);
  if (!a5 && l.write.overridePolicy) {
    const e4 = l.write.overridePolicy.call(r, f4, u6, p2 ?? void 0);
    void 0 !== e4 && (a5 = e4);
  }
  if (a5 || (a5 = l.write), !a5 || false === a5.enabled)
    return false;
  if (a5.layerContainerTypes && (p2 == null ? void 0 : p2.layerContainerType) && !a5.layerContainerTypes.includes(p2.layerContainerType))
    return false;
  if ((null === f4 && !a5.allowNull && !a5.writerEnsuresNonNull || void 0 === f4) && a5.isRequired) {
    const i2 = new s2("web-document-write:property-required", `Missing value for required property '${u6}' on '${r.declaredClass}'`, { propertyName: u6, target: r });
    return i2 && (p2 == null ? void 0 : p2.messages) ? p2.messages.push(i2) : i2 && !p2 && s.getLogger("esri.core.accessorSupport.write").error(i2.name, i2.message), false;
  }
  if (void 0 === f4)
    return false;
  if (null === f4 && !a5.allowNull && !a5.writerEnsuresNonNull)
    return false;
  if (!a5.alwaysWriteDefaults && (!o3.store.multipleOriginsSupported || o3.store.originOf(u6) === e2.DEFAULTS) && c3(r, u6, p2, l, f4))
    return false;
  if (!a5.ignoreOrigin && (p2 == null ? void 0 : p2.origin) && o3.store.multipleOriginsSupported) {
    if (o3.store.originOf(u6) < n(p2.origin))
      return false;
  }
  return true;
}
function c3(e4, t3, i2, o3, n3) {
  const s7 = o3.default;
  if (void 0 === s7)
    return false;
  if (null != o3.defaultEquals)
    return o3.defaultEquals(n3);
  if ("function" == typeof s7) {
    if (Array.isArray(n3)) {
      const o4 = s7.call(e4, t3, i2 ?? void 0);
      return h(o4, n3);
    }
    return false;
  }
  return s7 === n3;
}
function g2(r, e4, t3, i2) {
  const o3 = t(r), n3 = o3.metadatas, s7 = a2(n3[e4], i2);
  return !!s7 && f2(r, o3, e4, s7, t3, i2);
}
function d2(r, e4, t3) {
  var _a, _b;
  if (r && "function" == typeof r.toJSON && (!r.toJSON.isDefaultToJSON || !r.write))
    return u(e4, r.toJSON(t3));
  const n3 = t(r), s7 = n3.metadatas;
  for (const u6 in s7) {
    const c4 = a2(s7[u6], t3);
    if (!f2(r, n3, u6, c4, void 0, t3))
      continue;
    const g3 = o(r, u6), d3 = p(r, c4, c4.write && "string" == typeof c4.write.target ? c4.write.target : u6, g3, t3);
    Object.keys(d3).length > 0 && (e4 = u(e4, d3), ((_b = (_a = t3 == null ? void 0 : t3.resources) == null ? void 0 : _a.pendingOperations) == null ? void 0 : _b.length) && t3.resources.pendingOperations.push(Promise.all(t3.resources.pendingOperations).then(() => u(e4, d3, () => "replace-arrays"))), (t3 == null ? void 0 : t3.writtenProperties) && t3.writtenProperties.push({ target: r, propName: u6, oldOrigin: u3(n3.store.originOf(u6)), newOrigin: t3.origin }));
  }
  return e4;
}

// node_modules/@arcgis/core/core/accessorSupport/DefaultsStore.js
var s6 = class _s {
  constructor() {
    this._values = /* @__PURE__ */ new Map(), this.multipleOriginsSupported = false;
  }
  clone(e4) {
    const t3 = new _s();
    return this._values.forEach((s7, r) => {
      e4 && e4.has(r) || t3.set(r, a(s7.value), s7.origin);
    }), t3;
  }
  get(i2, e4) {
    e4 = this._normalizeOrigin(e4);
    const s7 = this._values.get(i2);
    return null == e4 || (s7 == null ? void 0 : s7.origin) === e4 ? s7 == null ? void 0 : s7.value : void 0;
  }
  originOf(i2) {
    var _a;
    return ((_a = this._values.get(i2)) == null ? void 0 : _a.origin) ?? e2.USER;
  }
  keys(i2) {
    i2 = this._normalizeOrigin(i2);
    const e4 = [...this._values.keys()];
    return null == i2 ? e4 : e4.filter((e5) => {
      var _a;
      return ((_a = this._values.get(e5)) == null ? void 0 : _a.origin) === i2;
    });
  }
  set(i2, s7, r) {
    if ((r = this._normalizeOrigin(r)) === e2.DEFAULTS) {
      const e4 = this._values.get(i2);
      if (null != (e4 == null ? void 0 : e4.origin) && e4.origin > r)
        return;
    }
    this._values.set(i2, new t2(s7, r));
  }
  delete(i2, e4) {
    var _a;
    null != (e4 = this._normalizeOrigin(e4)) && ((_a = this._values.get(i2)) == null ? void 0 : _a.origin) !== e4 || this._values.delete(i2);
  }
  has(i2, e4) {
    var _a;
    return null != (e4 = this._normalizeOrigin(e4)) ? ((_a = this._values.get(i2)) == null ? void 0 : _a.origin) === e4 : this._values.has(i2);
  }
  forEach(i2) {
    this._values.forEach(({ value: e4 }, s7) => i2(e4, s7));
  }
  _normalizeOrigin(i2) {
    if (null != i2)
      return i2 === e2.DEFAULTS ? i2 : e2.USER;
  }
};
var t2 = class {
  constructor(i2, e4) {
    this.value = i2, this.origin = e4;
  }
};

// node_modules/@arcgis/core/core/accessorSupport/defaultsStoreUtils.js
function e3(e4, r, n3) {
  r.keys().forEach((e5) => {
    n3.set(e5, r.get(e5), e2.DEFAULTS);
  });
  const o3 = e4.metadatas;
  Object.keys(o3).forEach((r2) => {
    e4.internalGet(r2) && n3.set(r2, e4.internalGet(r2), e2.DEFAULTS);
  });
}

// node_modules/@arcgis/core/core/JSONSupport.js
var u5 = (t3) => {
  let u6 = class extends t3 {
    constructor(...r) {
      super(...r);
      const t4 = t(this), e4 = t4.store, i2 = new s6();
      t4.store = i2, e3(t4, e4, i2);
    }
    read(r, t4) {
      u4(this, r, t4);
    }
    write(r, t4) {
      return d2(this, r ?? {}, t4);
    }
    toJSON(r) {
      return this.write({}, r);
    }
    static fromJSON(r, t4) {
      return n2.call(this, r, t4);
    }
  };
  return u6 = e([c("esri.core.JSONSupport")], u6), u6.prototype.toJSON.isDefaultToJSON = true, u6;
};
function n2(r, t3) {
  if (!r)
    return null;
  if (r.declaredClass)
    throw new Error("JSON object is already hydrated");
  const o3 = new this();
  return o3.read(r, t3), o3;
}
function a4(r) {
  return r && "object" == typeof r && "toJSON" in r && "function" == typeof r.toJSON;
}
var f3 = class extends u5(g) {
};
f3 = e([c("esri.core.JSONSupport")], f3);

export {
  e3 as e,
  u4 as u,
  d,
  g2 as g,
  d2,
  u5 as u2,
  a4 as a,
  f3 as f
};
//# sourceMappingURL=chunk-NSRXJNTS.js.map
