import {
  t
} from "./chunk-3U7MSH5S.js";

// node_modules/@arcgis/core/layers/support/fetchService.js
async function t2(t3, r2) {
  const a2 = await t(t3, r2);
  y(a2), n(a2);
  const s2 = { serviceJSON: a2 };
  if ((a2.currentVersion ?? 0) < 10.5)
    return s2;
  const o2 = await t(t3 + "/layers", r2);
  return y(o2), n(o2), s2.layersJSON = { layers: o2.layers, tables: o2.tables }, s2;
}
function r(e) {
  return "Feature Layer" === e.type || "Oriented Imagery Layer" === e.type;
}
function a(e) {
  return "Table" === e.type;
}
function n(e) {
  var _a, _b;
  e.layers = (_a = e.layers) == null ? void 0 : _a.filter(r), e.tables = (_b = e.tables) == null ? void 0 : _b.filter(a);
}
function s(e) {
  e.type || (e.type = "Feature Layer");
}
function o(e) {
  e.type || (e.type = "Table");
}
function y(e) {
  var _a, _b;
  (_a = e.layers) == null ? void 0 : _a.forEach(s), (_b = e.tables) == null ? void 0 : _b.forEach(o);
}

export {
  t2 as t
};
//# sourceMappingURL=chunk-ID2FHQ3Y.js.map
