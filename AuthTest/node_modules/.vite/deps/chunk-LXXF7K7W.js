import {
  $,
  B,
  I,
  M,
  S,
  _,
  a as a2,
  b,
  c as c2,
  d,
  e as e2,
  e2 as e3,
  f,
  g,
  i,
  j as j2,
  k,
  k2,
  l,
  m,
  n,
  o,
  o2,
  p,
  r,
  s as s3,
  t,
  t2,
  w
} from "./chunk-SBW6NNVI.js";
import {
  C,
  c2 as c,
  e,
  u as u2
} from "./chunk-RFPH3ZTZ.js";
import {
  u
} from "./chunk-WGO3VFQP.js";
import {
  n as n2
} from "./chunk-CQS47VN5.js";
import {
  a,
  h,
  j,
  s2 as s,
  s3 as s2
} from "./chunk-WJ3HJKNC.js";
import {
  O,
  has
} from "./chunk-4V6374PV.js";

// node_modules/@arcgis/core/core/deprecate.js
var n3 = /* @__PURE__ */ new Set();
function e4(e13, i6, o11 = false) {
  o11 && n3.has(i6) || (o11 && n3.add(i6), e13.warn(`ðŸ›‘ DEPRECATED - ${i6}`));
}
function o3(n8, e13, i6 = {}) {
  if (has("esri-deprecation-warnings")) {
    const { moduleName: o11 } = i6;
    r2(n8, `Function: ${(o11 ? o11 + "::" : "") + e13 + "()"}`, i6);
  }
}
function t3(n8, e13, i6 = {}) {
  if (has("esri-deprecation-warnings")) {
    const { moduleName: o11 } = i6;
    r2(n8, `Property: ${(o11 ? o11 + "::" : "") + e13}`, i6);
  }
}
function r2(n8, i6, o11 = {}) {
  if (has("esri-deprecation-warnings")) {
    const { replacement: t14, version: r8, see: s10, warnOnce: a3 } = o11;
    let c5 = i6;
    t14 && (c5 += `
	ðŸ› ï¸ Replacement: ${t14}`), r8 && (c5 += `
	âš™ï¸ Version: ${r8}`), s10 && (c5 += `
	ðŸ”— See ${s10} for more details.`), e4(n8, c5, a3);
  }
}

// node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js
var e5;
!function(e13) {
  e13[e13.DEFAULTS = 0] = "DEFAULTS", e13[e13.COMPUTED = 1] = "COMPUTED", e13[e13.SERVICE = 2] = "SERVICE", e13[e13.PORTAL_ITEM = 3] = "PORTAL_ITEM", e13[e13.WEB_SCENE = 4] = "WEB_SCENE", e13[e13.WEB_MAP = 5] = "WEB_MAP", e13[e13.LINK_CHART = 6] = "LINK_CHART", e13[e13.USER = 7] = "USER";
}(e5 || (e5 = {}));
var r3 = e5.USER + 1;
function n4(r8) {
  switch (r8) {
    case "defaults":
      return e5.DEFAULTS;
    case "service":
      return e5.SERVICE;
    case "portal-item":
      return e5.PORTAL_ITEM;
    case "web-scene":
      return e5.WEB_SCENE;
    case "web-map":
      return e5.WEB_MAP;
    case "link-chart":
      return e5.LINK_CHART;
    case "user":
      return e5.USER;
    default:
      return null;
  }
}
function t4(r8) {
  switch (r8) {
    case e5.DEFAULTS:
      return "defaults";
    case e5.SERVICE:
      return "service";
    case e5.PORTAL_ITEM:
      return "portal-item";
    case e5.WEB_SCENE:
      return "web-scene";
    case e5.WEB_MAP:
      return "web-map";
    case e5.LINK_CHART:
      return "link-chart";
    case e5.USER:
      return "user";
  }
}
function u3(e13) {
  return t4(e13);
}

// node_modules/@arcgis/core/core/PerformanceSampler.js
var s4 = class {
  constructor(s10, e13 = 30) {
    this.name = s10, this._counter = 0, this._samples = new Array(e13);
  }
  record(s10) {
    null != s10 && (this._samples[++this._counter % this._samples.length] = s10);
  }
  get median() {
    return this._samples.slice().sort((s10, e13) => s10 - e13)[Math.floor(this._samples.length / 2)];
  }
  get average() {
    return this._samples.reduce((s10, e13) => s10 + e13, 0) / this._samples.length;
  }
  get last() {
    return this._samples[this._counter % this._samples.length];
  }
};

// node_modules/@arcgis/core/core/scheduling.js
var i2 = class {
  constructor(e13) {
    this.phases = e13, this.paused = false, this.ticks = -1, this.removed = false;
  }
};
var c3 = class {
  constructor(e13) {
    this.callback = e13, this.isActive = true;
  }
  remove() {
    this.isActive = false;
  }
};
var m2 = 0;
var l2 = 0;
var p2 = { time: n2(0), deltaTime: n2(0), elapsedFrameTime: n2(0), frameDuration: n2(0) };
var u4 = ["prepare", "preRender", "render", "postRender", "update", "finish"];
var f2 = [];
var h2 = new l();
var d2 = class {
  constructor(e13) {
    this._task = e13;
  }
  remove() {
    this._task.removed = true;
  }
  pause() {
    this._task.paused = true;
  }
  resume() {
    this._task.paused = false;
  }
};
var w2 = { frameTasks: h2, willDispatch: false, clearFrameTasks: T, dispatch: _2, executeFrameTasks: x };
function k3(t14) {
  const r8 = new c3(t14);
  return f2.push(r8), w2.willDispatch || (w2.willDispatch = true, t2(_2)), r8;
}
function v(e13) {
  const t14 = new i2(e13);
  return h2.push(t14), null == A && (m2 = performance.now(), A = requestAnimationFrame(j3)), new d2(t14);
}
var A = null;
function T(e13 = false) {
  h2.forAll((e14) => {
    e14.removed = true;
  }), e13 && g2();
}
function j3() {
  const e13 = performance.now();
  A = null, A = h2.length > 0 ? requestAnimationFrame(j3) : null, w2.executeFrameTasks(e13);
}
function x(e13) {
  const t14 = n2(e13 - m2);
  m2 = e13;
  const r8 = l2 > 0 ? l2 : 1e3 / 60, s10 = Math.max(0, t14 - r8);
  p2.time = e13, p2.frameDuration = n2(r8 - s10);
  for (let n8 = 0; n8 < u4.length; n8++) {
    const r9 = performance.now(), s11 = u4[n8];
    h2.forAll((r10) => {
      var _a;
      if (r10.paused || r10.removed)
        return;
      0 === n8 && r10.ticks++;
      r10.phases[s11] && (p2.elapsedFrameTime = n2(performance.now() - e13), p2.deltaTime = 0 === r10.ticks ? n2(0) : t14, (_a = r10.phases[s11]) == null ? void 0 : _a.call(r10, p2));
    }), b2[n8].record(performance.now() - r9);
  }
  g2(), q.record(performance.now() - e13);
}
var D = new l();
function g2() {
  h2.forAll((e13) => {
    e13.removed && D.push(e13);
  }), h2.removeUnorderedMany(D.data, D.length), D.clear();
}
function _2() {
  for (; f2.length; ) {
    const e13 = f2.shift();
    e13.isActive && e13.callback();
  }
  w2.willDispatch = false;
}
function M2(t14 = 1, r8) {
  const a3 = C(), i6 = () => {
    c(r8) ? a3.reject(u2()) : 0 === t14 ? a3() : (--t14, t2(() => i6()));
  };
  return i6(), a3.promise;
}
var b2 = u4.map((e13) => new s4(e13));
var q = new s4("total");

// node_modules/@arcgis/core/core/accessorSupport/tracking/SimpleTrackingTarget.js
var t5 = class {
  constructor(t14) {
    this._accessed = [], this._handles = [], this._observerObject = new e6(t14), s5.register(this, new WeakRef(this._observerObject), this);
  }
  destroy() {
    var _a;
    s5.unregister(this._observerObject), this._accessed.length = 0, (_a = this._observerObject) == null ? void 0 : _a.destroy(), this.clear();
  }
  onObservableAccessed(t14) {
    const e13 = this._accessed;
    e13.includes(t14) || e13.push(t14);
  }
  onTrackingEnd() {
    const t14 = this._handles, e13 = this._accessed, s10 = this._observerObject;
    for (let i6 = 0; i6 < e13.length; ++i6)
      t14.push(e13[i6].observe(s10));
    e13.length = 0;
  }
  clear() {
    const t14 = this._handles;
    for (let e13 = 0; e13 < t14.length; ++e13)
      t14[e13].remove();
    t14.length = 0;
  }
};
var e6 = class {
  constructor(t14) {
    this._notify = t14, this._invalidCount = 0, this.destroyed = false;
  }
  onInvalidated() {
    this._invalidCount++;
  }
  onCommitted() {
    if (this.destroyed)
      return;
    const t14 = this._invalidCount;
    if (1 === t14)
      return this._invalidCount = 0, void this._notify();
    this._invalidCount = t14 > 0 ? t14 - 1 : 0;
  }
  destroy() {
    this.destroyed = true, this._notify = i3;
  }
};
var s5 = new FinalizationRegistry((t14) => {
  var _a;
  (_a = t14.deref()) == null ? void 0 : _a.destroy();
});
function i3() {
}

// node_modules/@arcgis/core/core/ArrayPool.js
function r4(e13) {
  e13.length = 0;
}
var t6 = class {
  constructor(t14 = 50, o11 = 50) {
    this._pool = new e3(Array, void 0, r4, o11, t14);
  }
  acquire() {
    return this._pool.acquire();
  }
  release(e13) {
    this._pool.release(e13);
  }
  prune() {
    this._pool.prune(0);
  }
  static acquire() {
    return o4.acquire();
  }
  static release(e13) {
    return o4.release(e13);
  }
  static prune() {
    o4.prune();
  }
};
var o4 = new t6(100);

// node_modules/@arcgis/core/core/ReentrantObjectPool.js
var s6 = class extends e3 {
  constructor() {
    super(...arguments), this._set = /* @__PURE__ */ new Set();
  }
  destroy() {
    super.destroy(), this._set = null;
  }
  acquire(...e13) {
    const s10 = super.acquire(...e13);
    return this._set.delete(s10), s10;
  }
  release(e13) {
    e13 && !this._set.has(e13) && (super.release(e13), this._set.add(e13));
  }
  _dispose(e13) {
    this._set.delete(e13), super._dispose(e13);
  }
};

// node_modules/@arcgis/core/core/SetUtils.js
function n5(n8, r8) {
  for (const t14 of n8.entries())
    if (r8(t14[0]))
      return true;
  return false;
}
function r5(n8, r8) {
  if (!r8)
    return n8;
  for (const t14 of r8)
    n8.add(t14);
  return n8;
}
function t7(n8, t14) {
  const o11 = /* @__PURE__ */ new Set();
  return r5(o11, n8), r5(o11, t14), o11;
}
function o5(n8, r8) {
  const t14 = /* @__PURE__ */ new Set();
  for (const o11 of r8)
    n8.has(o11) && t14.add(o11);
  return t14;
}
function e7(n8, r8) {
  if (!n8 || !r8)
    return false;
  if (n8 === r8)
    return true;
  for (const t14 of n8)
    if (!r8.has(t14))
      return false;
  return true;
}
function f3(n8, r8) {
  if (null == n8 && null == r8)
    return true;
  if (null == n8 || null == r8 || n8.size !== r8.size)
    return false;
  for (const t14 of n8)
    if (!r8.has(t14))
      return false;
  return true;
}
function u5(n8, r8) {
  const t14 = new Set(n8);
  for (const o11 of r8)
    t14.delete(o11);
  return t14;
}

// node_modules/@arcgis/core/core/uid.js
var t8 = 0;
function e8() {
  return ++t8;
}

// node_modules/@arcgis/core/core/accessorSupport/get.js
function e9(t14, e13) {
  const i6 = "?" === t14[t14.length - 1] ? t14.slice(0, -1) : t14;
  if (null != e13.getItemAt || Array.isArray(e13)) {
    const t15 = parseInt(i6, 10);
    if (!isNaN(t15))
      return Array.isArray(e13) ? e13[t15] : e13.at(t15);
  }
  const u9 = t(e13);
  return e2(u9, i6) ? u9.get(i6) : e13[i6];
}
function i4(t14, n8, r8) {
  if (null == t14)
    return t14;
  const u9 = e9(n8[r8], t14);
  return !u9 && r8 < n8.length - 1 ? void 0 : r8 === n8.length - 1 ? u9 : i4(u9, n8, r8 + 1);
}
function u6(n8, r8, u9 = 0) {
  return "string" != typeof r8 || r8.includes(".") ? i4(n8, a2(r8), u9) : e9(r8, n8);
}
function o6(t14, n8) {
  return u6(t14, n8);
}
function s7(t14, n8) {
  return void 0 !== u6(n8, t14);
}

// node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js
var l3 = false;
var u7 = [];
function o7(u9, o11) {
  let e13 = new t5(a3), i6 = null, s10 = false;
  function a3() {
    if (!e13 || s10)
      return;
    if (l3)
      return void c4(a3);
    const n8 = i6;
    e13.clear(), l3 = true, s10 = true, i6 = f(e13, u9), s10 = false, l3 = false, o11(i6, n8), f4();
  }
  function m6() {
    e13 && (e13.destroy(), e13 = null, i6 = null);
  }
  return s10 = true, i6 = f(e13, u9), s10 = false, e(m6);
}
function e10(l4, u9) {
  let o11 = new t5(i6), e13 = null;
  function i6() {
    u9(e13, f7);
  }
  function c5() {
    o11 && (o11.destroy(), o11 = null), e13 = null;
  }
  function f7() {
    return o11 ? (o11.clear(), e13 = f(o11, l4), e13) : null;
  }
  return f7(), e(c5);
}
function i5(u9) {
  let o11 = new t5(i6), e13 = false;
  function i6() {
    o11 && !e13 && (l3 ? c4(i6) : (o11.clear(), l3 = true, e13 = true, f(o11, u9), e13 = false, l3 = false, f4()));
  }
  function s10() {
    o11 && (o11.destroy(), o11 = null);
  }
  return e13 = true, f(o11, u9), e13 = false, e(s10);
}
function c4(n8) {
  u7.includes(n8) || u7.unshift(n8);
}
function f4() {
  for (; u7.length; )
    u7.pop()();
}

// node_modules/@arcgis/core/core/accessorSupport/watch.js
var h3;
!function(e13) {
  e13[e13.Untracked = 0] = "Untracked", e13[e13.Tracked = 1] = "Tracked";
}(h3 || (h3 = {}));
var f5 = class {
  constructor() {
    this.uid = e8(), this.removed = false, this.type = null, this.oldValue = null, this.callback = null, this.getValue = null, this.target = null, this.path = null, this.equals = null;
  }
  static acquireUntracked(e13, t14, o11, l4, i6) {
    return this.pool.acquire(h3.Untracked, e13, t14, o11, l4, i6, j);
  }
  static acquireTracked(e13, t14, r8, o11) {
    return this.pool.acquire(h3.Tracked, e13, t14, r8, null, null, o11);
  }
  notify(e13, t14) {
    this.type === h3.Untracked ? this.callback.call(this.target, e13, t14, this.path, this.target) : this.callback.call(null, e13, t14, void 0, void 0);
  }
  acquire(e13, t14, r8, o11, l4, i6, n8) {
    this.uid = e8(), this.removed = false, this.type = e13, this.oldValue = t14, this.callback = r8, this.getValue = o11, this.target = l4, this.path = i6, this.equals = n8;
  }
  release() {
    this.target = this.path = this.oldValue = this.callback = this.getValue = null, this.uid = e8(), this.removed = true;
  }
};
f5.pool = new s6(f5);
var m3 = new t6();
var p3 = /* @__PURE__ */ new Set();
var v2;
function k4(e13) {
  p3.delete(e13), p3.add(e13), v2 || (v2 = k3(q2));
}
function _3(e13) {
  if (e13.removed)
    return;
  const t14 = e13.oldValue, r8 = e13.getValue();
  e13.equals(t14, r8) || (e13.oldValue = r8, e13.notify(r8, t14));
}
function g3(e13) {
  for (const t14 of p3.values())
    t14.target === e13 && (t14.removed = true);
}
function q2() {
  let e13 = 10;
  for (; v2 && e13--; ) {
    v2 = null;
    const e14 = j4(), t14 = m3.acquire();
    for (const r8 of e14) {
      const e15 = r8.uid;
      _3(r8), e15 === r8.uid && r8.removed && t14.push(r8);
    }
    for (const r8 of p3)
      r8.removed && (t14.push(r8), p3.delete(r8));
    for (const r8 of t14)
      f5.pool.release(r8);
    m3.release(t14), m3.release(e14), V.forEach((e15) => e15());
  }
}
function j4() {
  const e13 = m3.acquire();
  e13.length = p3.size;
  let t14 = 0;
  for (const r8 of p3)
    e13[t14] = r8, ++t14;
  return p3.clear(), e13;
}
var V = /* @__PURE__ */ new Set();
function y(e13) {
  return V.add(e13), e(() => V.delete(e13));
}
function U(e13, r8, o11) {
  let l4 = p(e13, r8, o11, (e14, r9, o12) => {
    let i6, n8, s10 = e10(() => u6(e14, r9), (t14, s11) => {
      e14.__accessor__.destroyed || i6 && i6.uid !== n8 ? l4.remove() : (i6 || (i6 = f5.acquireUntracked(t14, o12, s11, e14, r9), n8 = i6.uid), k4(i6));
    });
    return e(() => {
      s10.remove(), i6 && (i6.uid !== n8 || i6.removed || (i6.removed = true, k4(i6)), i6 = null), l4 = s10 = null;
    });
  });
  return l4;
}
function b3(e13, t14, o11) {
  const l4 = p(e13, t14, o11, (e14, t15, o12) => {
    let i6 = false;
    return o7(() => u6(e14, t15), (n8, s10) => {
      e14.__accessor__.destroyed ? l4.remove() : i6 || (i6 = true, j(s10, n8) || o12.call(e14, n8, s10, t15, e14), i6 = false);
    });
  });
  return l4;
}
function T2(e13, r8, o11, l4 = false) {
  return !e13.__accessor__ || e13.__accessor__.destroyed ? e() : l4 ? b3(e13, r8, o11) : U(e13, r8, o11);
}
function w3(e13, r8, o11) {
  let l4, i6, n8 = e10(e13, (e14, t14) => {
    l4 && l4.uid !== i6 ? n8.remove() : (l4 || (l4 = f5.acquireTracked(e14, r8, t14, o11), i6 = l4.uid), k4(l4));
  });
  return e(() => {
    n8.remove(), l4 && (l4.uid !== i6 || l4.removed || (l4.removed = true, k4(l4)), l4 = null), n8 = null;
  });
}
function S2(e13, t14, r8) {
  let o11 = false;
  return o7(e13, (e14, l4) => {
    o11 || (o11 = true, r8(l4, e14) || t14(e14, l4), o11 = false);
  });
}
function P(e13, t14, r8 = false, l4 = h) {
  return r8 ? S2(e13, t14, l4) : w3(e13, t14, l4);
}
function x2(e13) {
  return n5(p3, (t14) => t14.oldValue === e13);
}

// node_modules/@arcgis/core/core/accessorSupport/set.js
function t9(o11, e13, s10) {
  if (o11 && e13)
    if ("object" == typeof e13)
      for (const r8 of Object.getOwnPropertyNames(e13))
        t9(o11, r8, e13[r8]);
    else {
      if (e13.includes(".")) {
        const n8 = e13.split("."), i7 = n8.splice(-1, 1)[0];
        return void t9(o6(o11, n8), i7, s10);
      }
      const i6 = o11.__accessor__;
      null != i6 && n6(e13, i6), o11[e13] = s10;
    }
}
function n6(r8, t14) {
  if (has("esri-unknown-property-errors") && !e11(r8, t14))
    throw new s2("set:unknown-property", s8(r8, t14));
}
function e11(o11, r8) {
  return null != r8.metadatas[o11];
}
function s8(o11, r8) {
  return "setting unknown property '" + o11 + "' on instance of " + r8.host.declaredClass;
}

// node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
function y2(n8 = {}) {
  return (o11, s10) => {
    if (o11 === Function.prototype)
      throw new Error(`Inappropriate use of @property() on a static field: ${o11.name}.${s10}. Accessor does not support static properties.`);
    const i6 = Object.getOwnPropertyDescriptor(o11, s10), a3 = o2(o11, s10);
    i6 && (i6.get || i6.set ? (a3.get = i6.get || a3.get, a3.set = i6.set || a3.set) : "value" in i6 && ("value" in n8 && s.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${s10}" on "${o11.constructor.name}" already defined in the metadata`, n8), a3.value = n8.value = i6.value)), null != n8.readOnly && (a3.readOnly = n8.readOnly);
    const p4 = n8.aliasOf;
    if (p4) {
      const t14 = "string" == typeof p4 ? p4 : p4.source, e13 = "string" == typeof p4 ? null : true === p4.overridable;
      let r8;
      a3.dependsOn = [t14], a3.get = function() {
        let e14 = o6(this, t14);
        if ("function" == typeof e14) {
          r8 || (r8 = t14.split(".").slice(0, -1).join("."));
          const n9 = o6(this, r8);
          n9 && (e14 = e14.bind(n9));
        }
        return e14;
      }, a3.readOnly || (a3.set = e13 ? function(t15) {
        this._override(s10, t15);
      } : function(e14) {
        t9(this, t14, e14);
      });
    }
    const u9 = n8.type, c5 = n8.types;
    a3.cast || (u9 ? a3.cast = h4(u9) : c5 && (Array.isArray(c5) ? a3.cast = b(S(c5[0])) : a3.cast = S(c5))), n(a3, n8), n8.range && (a3.cast = j5(a3.cast, n8.range));
  };
}
function d3(t14, e13, r8) {
  const n8 = o2(t14, r8);
  n8.json || (n8.json = {});
  let o11 = n8.json;
  return void 0 !== e13 && (o11.origins || (o11.origins = {}), o11.origins[e13] || (o11.origins[e13] = {}), o11 = o11.origins[e13]), o11;
}
function h4(t14) {
  let e13 = 0, r8 = t14;
  if (_(t14))
    return B(t14);
  for (; Array.isArray(r8) && 1 === r8.length && "string" != typeof r8[0] && "number" != typeof r8[0]; )
    r8 = r8[0], e13++;
  const f7 = r8;
  if (k2(f7))
    return 0 === e13 ? M(f7) : $(M(f7), e13);
  if (1 === e13)
    return w(f7);
  if (e13 > 1)
    return j2(f7, e13);
  const l4 = t14;
  return l4.from ? l4.from : d(l4);
}
function j5(t14, e13) {
  return (r8) => {
    let n8 = +t14(r8);
    return null != e13.step && (n8 = Math.round(n8 / e13.step) * e13.step), null != e13.min && (n8 = Math.max(e13.min, n8)), null != e13.max && (n8 = Math.min(e13.max, n8)), n8;
  };
}

// node_modules/@arcgis/core/core/iteratorUtils.js
function n7(n8) {
  const o11 = [];
  return function* () {
    yield* o11;
    for (const t14 of n8)
      o11.push(t14), yield t14;
  };
}
function o8(n8, o11) {
  for (const t14 of n8)
    if (null != t14 && o11(t14))
      return t14;
}
function t10(n8) {
  return null != n8 && "function" == typeof n8[Symbol.iterator];
}

// node_modules/@arcgis/core/core/Handles.js
var e12 = class _e {
  constructor() {
    this._groups = /* @__PURE__ */ new Map();
  }
  destroy() {
    this.removeAll();
  }
  get size() {
    let r8 = 0;
    return this._groups.forEach((e13) => {
      r8 += e13.length;
    }), r8;
  }
  add(e13, t14) {
    if (t10(e13)) {
      const r8 = this._getOrCreateGroup(t14);
      for (const t15 of e13)
        this._isHandle(t15) && r8.push(t15);
    } else if (this._isHandle(e13)) {
      this._getOrCreateGroup(t14).push(e13);
    }
    return this;
  }
  forEach(r8, e13) {
    if ("function" == typeof r8)
      this._groups.forEach((e14) => e14.forEach(r8));
    else {
      const t14 = this._getGroup(r8);
      t14 && e13 && t14.forEach(e13);
    }
  }
  has(r8) {
    return this._groups.has(this._ensureGroupKey(r8));
  }
  remove(e13) {
    if ("string" != typeof e13 && t10(e13)) {
      for (const r8 of e13)
        this.remove(r8);
      return this;
    }
    return this.has(e13) ? (this._removeAllFromGroup(this._getGroup(e13)), this._groups.delete(this._ensureGroupKey(e13)), this) : this;
  }
  removeAll() {
    return this._groups.forEach((r8) => this._removeAllFromGroup(r8)), this._groups.clear(), this;
  }
  _isHandle(r8) {
    return r8 && (!!r8.remove || r8 instanceof _e);
  }
  _getOrCreateGroup(r8) {
    if (this.has(r8))
      return this._getGroup(r8);
    const e13 = [];
    return this._groups.set(this._ensureGroupKey(r8), e13), e13;
  }
  _getGroup(r8) {
    return this._groups.get(this._ensureGroupKey(r8));
  }
  _ensureGroupKey(r8) {
    return r8 || "_default_";
  }
  _removeAllFromGroup(r8) {
    for (const t14 of r8)
      t14 instanceof _e ? t14.removeAll() : t14.remove();
  }
};

// node_modules/@arcgis/core/core/accessorSupport/tracking/ObservationHandle.js
var s9 = class {
  constructor(r8, s10) {
    this._observers = r8, this._observer = s10;
  }
  remove() {
    O(this._observers, this._observer);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/ObservableBase.js
var r6 = class {
  constructor() {
    this._observers = null, this.destroyed = false;
  }
  observe(e13) {
    if (this.destroyed || e13.destroyed)
      return t11;
    null == this._observers && (this._observers = []);
    const r8 = this._observers;
    let o11 = false, i6 = false;
    const n8 = r8.length;
    for (let s10 = 0; s10 < n8; ++s10) {
      const t14 = r8[s10];
      if (t14.destroyed)
        i6 = true;
      else if (t14 === e13) {
        o11 = true;
        break;
      }
    }
    return o11 || (r8.push(e13), i6 && this._removeDestroyedObservers()), new s9(r8, e13);
  }
  _removeDestroyedObservers() {
    const e13 = this._observers;
    if (!e13 || 0 === e13.length)
      return;
    const s10 = e13.length;
    let r8 = 0;
    for (let t14 = 0; t14 < s10; ++t14) {
      for (; t14 + r8 < s10; ) {
        if (!e13[t14 + r8].destroyed)
          break;
        ++r8;
      }
      if (r8 > 0) {
        if (!(t14 + r8 < s10))
          break;
        e13[t14] = e13[t14 + r8];
      }
    }
    e13.length = s10 - r8;
  }
  destroy() {
    if (this.destroyed)
      return;
    this.destroyed = true;
    const e13 = this._observers;
    if (null != e13) {
      for (const s10 of e13)
        s10.onCommitted();
      this._observers = null;
    }
  }
};
var t11 = e();

// node_modules/@arcgis/core/core/accessorSupport/Property.js
var o9 = class extends r6 {
  constructor(t14, s10) {
    super(), this.propertyName = t14, this.metadata = s10, this._accessed = null, this._handles = null, this.flags = 0, this.flags = i.Dirty | (s10.nonNullable ? i.NonNullable : 0) | (s10.hasOwnProperty("value") ? i.HasDefaultValue : 0) | (void 0 === s10.get ? i.DepTrackingInitialized : 0) | (void 0 === s10.dependsOn ? i.AutoTracked : 0);
  }
  destroy() {
    this.flags & i.Dirty && this.onCommitted(), super.destroy(), this._accessed = null, this._clearObservationHandles();
  }
  getComputed(t14) {
    s3(this);
    const o11 = t14.store, r8 = this.propertyName, h5 = this.flags, d6 = o11.get(r8);
    if (h5 & i.Computing)
      return d6;
    if (~h5 & i.Dirty && o11.has(r8))
      return d6;
    this.flags |= i.Computing;
    const c5 = t14.host;
    let g6;
    h5 & i.AutoTracked ? g6 = f(this, this.metadata.get, c5) : (k(c5, this), g6 = this.metadata.get.call(c5)), o11.set(r8, g6, e5.COMPUTED);
    const f7 = o11.get(r8);
    return f7 === d6 ? this.flags &= ~i.Dirty : g(this.commit, this), this.flags &= ~i.Computing, f7;
  }
  onObservableAccessed(t14) {
    if (t14 === this)
      return;
    let s10 = this._accessed;
    if (null == s10)
      s10 = [], this._accessed = s10;
    else if (s10.includes(t14))
      return;
    s10.push(t14);
  }
  onTrackingEnd() {
    this._clearObservationHandles(), this.flags |= i.DepTrackingInitialized;
    const t14 = this._accessed;
    if (null == t14 || 0 === t14.length)
      return;
    let s10 = this._handles;
    null == s10 && (s10 = [], this._handles = s10);
    for (let e13 = 0; e13 < t14.length; ++e13)
      s10.push(t14[e13].observe(this));
    t14.length = 0;
  }
  notifyChange() {
    this.onInvalidated(), this.onCommitted();
  }
  invalidate() {
    this.onInvalidated();
  }
  commit() {
    this.flags &= ~i.Dirty, this.onCommitted();
  }
  _clearObservationHandles() {
    const t14 = this._handles;
    if (null !== t14) {
      for (let s10 = 0; s10 < t14.length; ++s10)
        t14[s10].remove();
      t14.length = 0;
    }
  }
  onInvalidated() {
    ~this.flags & i.Overriden && (this.flags |= i.Dirty);
    const t14 = this._observers;
    if (t14 && t14.length > 0)
      for (const s10 of t14)
        s10.onInvalidated();
  }
  onCommitted() {
    const t14 = this._observers;
    if (t14 && t14.length > 0) {
      const s10 = t14.slice();
      for (const t15 of s10)
        t15.onCommitted();
    }
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Store.js
var t12 = class _t {
  constructor() {
    this._values = /* @__PURE__ */ new Map(), this.multipleOriginsSupported = false;
  }
  clone(s10) {
    const r8 = new _t();
    return this._values.forEach((t14, i6) => {
      s10 && s10.has(i6) || r8.set(i6, a(t14));
    }), r8;
  }
  get(e13) {
    return this._values.get(e13);
  }
  originOf() {
    return e5.USER;
  }
  keys() {
    return [...this._values.keys()];
  }
  set(e13, s10) {
    this._values.set(e13, s10);
  }
  delete(e13) {
    this._values.delete(e13);
  }
  has(e13) {
    return this._values.has(e13);
  }
  forEach(e13) {
    this._values.forEach(e13);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Properties.js
function g4(t14, e13, i6) {
  return void 0 !== t14;
}
function u8(t14, e13, i6, r8) {
  return void 0 !== t14 && (!(null == i6 && t14.flags & i.NonNullable) || (r8.lifecycle, I.INITIALIZING, false));
}
function d4(t14) {
  return t14 && "function" == typeof t14.destroy;
}
s.getLogger("esri.core.accessorSupport.Properties");
var m4 = class {
  constructor(t14) {
    this.host = t14, this.propertiesByName = /* @__PURE__ */ new Map(), this.ctorArgs = null, this.destroyed = false, this.lifecycle = I.INITIALIZING, this.store = new t12(), this._origin = e5.USER;
    const e13 = this.host.constructor.__accessorMetadata__;
    for (const i6 in e13) {
      const t15 = new o9(i6, e13[i6]);
      this.propertiesByName.set(i6, t15);
    }
    this.metadatas = e13;
  }
  initialize() {
    this.lifecycle = I.CONSTRUCTING;
  }
  constructed() {
    this.lifecycle = I.CONSTRUCTED;
  }
  destroy() {
    this.destroyed = true;
    for (const [t14, e13] of this.propertiesByName) {
      if (e13.metadata.autoDestroy) {
        const i6 = this.internalGet(t14);
        i6 && d4(i6) && (i6.destroy(), ~e13.flags & i.NonNullable && this._internalSet(e13, null));
      }
      e13.destroy();
    }
  }
  get initialized() {
    return this.lifecycle !== I.INITIALIZING;
  }
  get(t14) {
    const e13 = this.propertiesByName.get(t14);
    if (e13.metadata.get)
      return e13.getComputed(this);
    s3(e13);
    const i6 = this.store;
    return i6.has(t14) ? i6.get(t14) : e13.metadata.value;
  }
  originOf(t14) {
    const e13 = this.store.originOf(t14);
    if (void 0 === e13) {
      const e14 = this.propertiesByName.get(t14);
      if (void 0 !== e14 && e14.flags & i.HasDefaultValue)
        return "defaults";
    }
    return t4(e13);
  }
  has(t14) {
    return !!this.propertiesByName.has(t14) && this.store.has(t14);
  }
  keys() {
    return [...this.propertiesByName.keys()];
  }
  internalGet(t14) {
    const e13 = this.propertiesByName.get(t14);
    if (g4(e13))
      return this.store.has(t14) ? this.store.get(t14) : e13.metadata.value;
  }
  internalSet(t14, e13) {
    const i6 = this.propertiesByName.get(t14);
    g4(i6) && this._internalSet(i6, e13);
  }
  getDependsInfo(t14, e13, i6) {
    const s10 = this.propertiesByName.get(e13);
    if (!g4(s10))
      return "";
    const o11 = /* @__PURE__ */ new Set(), n8 = f({ onObservableAccessed: (t15) => o11.add(t15), onTrackingEnd: () => {
    } }, () => {
      var _a;
      return (_a = s10.metadata.get) == null ? void 0 : _a.call(t14);
    });
    let a3 = `${i6}${t14.declaredClass.split(".").pop()}.${e13}: ${n8}
`;
    if (0 === o11.size)
      return a3;
    i6 += "  ";
    for (const l4 of o11) {
      if (!(l4 instanceof o9))
        continue;
      a3 += `${i6}${l4.propertyName}: undefined
`;
    }
    return a3;
  }
  setAtOrigin(t14, e13, i6) {
    const s10 = this.propertiesByName.get(t14);
    if (g4(s10))
      return this._setAtOrigin(s10, e13, i6);
  }
  isOverridden(t14) {
    const e13 = this.propertiesByName.get(t14);
    return void 0 !== e13 && !!(e13.flags & i.Overriden);
  }
  clearOverride(t14) {
    const e13 = this.propertiesByName.get(t14);
    e13 && e13.flags & i.Overriden && (e13.flags &= ~i.Overriden, e13.notifyChange());
  }
  override(t14, e13) {
    const i6 = this.propertiesByName.get(t14);
    if (!u8(i6, t14, e13, this))
      return;
    const s10 = i6.metadata.cast;
    if (s10) {
      const t15 = this._cast(s10, e13), { valid: i7, value: r8 } = t15;
      if (N.release(t15), !i7)
        return;
      e13 = r8;
    }
    i6.flags |= i.Overriden, this._internalSet(i6, e13);
  }
  set(t14, e13) {
    const i6 = this.propertiesByName.get(t14);
    if (!u8(i6, t14, e13, this))
      return;
    const s10 = i6.metadata.cast;
    if (s10) {
      const t15 = this._cast(s10, e13), { valid: i7, value: r9 } = t15;
      if (N.release(t15), !i7)
        return;
      e13 = r9;
    }
    const r8 = i6.metadata.set;
    r8 ? r8.call(this.host, e13) : this._internalSet(i6, e13);
  }
  setDefaultOrigin(t14) {
    this._origin = n4(t14);
  }
  getDefaultOrigin() {
    return t4(this._origin);
  }
  notifyChange(t14) {
    const e13 = this.propertiesByName.get(t14);
    void 0 !== e13 && e13.notifyChange();
  }
  invalidate(t14) {
    const e13 = this.propertiesByName.get(t14);
    void 0 !== e13 && e13.invalidate();
  }
  commit(t14) {
    const e13 = this.propertiesByName.get(t14);
    void 0 !== e13 && e13.commit();
  }
  _internalSet(t14, e13) {
    const i6 = this.lifecycle !== I.INITIALIZING ? this._origin : e5.DEFAULTS;
    this._setAtOrigin(t14, e13, i6);
  }
  _setAtOrigin(e13, i6, s10) {
    const r8 = this.store, o11 = e13.propertyName;
    r8.has(o11, s10) && j(i6, r8.get(o11)) && ~e13.flags & i.Overriden && s10 === r8.originOf(o11) || (e13.invalidate(), r8.set(o11, i6, s10), e13.commit(), m(this.host, e13));
  }
  _cast(t14, e13) {
    const i6 = N.acquire();
    return i6.valid = true, i6.value = e13, t14 && (i6.value = t14.call(this.host, e13, i6)), i6;
  }
};
var y3 = class {
  constructor() {
    this.value = null, this.valid = true;
  }
  acquire() {
    this.valid = true;
  }
  release() {
    this.value = null;
  }
};
var N = new e3(y3);

// node_modules/@arcgis/core/core/accessorSupport/testSupport.js
var r7;
function o10() {
  return r7;
}
var t13;
!function(r8) {
  r8[r8.Ignore = 0] = "Ignore", r8[r8.Destroy = 1] = "Destroy", r8[r8.ThrowError = 2] = "ThrowError";
}(t13 || (t13 = {}));

// node_modules/@arcgis/core/core/Accessor.js
var d5;
var y4;
function m5(t14) {
  var _a;
  if (null == t14)
    return { value: t14 };
  if (Array.isArray(t14))
    return { type: [t14[0]], value: null };
  switch (typeof t14) {
    case "object":
      return ((_a = t14.constructor) == null ? void 0 : _a.__accessorMetadata__) || t14 instanceof Date ? { type: t14.constructor, value: t14 } : t14;
    case "boolean":
      return { type: Boolean, value: t14 };
    case "string":
      return { type: String, value: t14 };
    case "number":
      return { type: Number, value: t14 };
    case "function":
      return { type: t14, value: null };
    default:
      return;
  }
}
var f6 = Symbol("Accessor-Handles");
var v3 = Symbol("Accessor-Initialized");
var g5 = class _g {
  static createSubclass(t14 = {}) {
    if (Array.isArray(t14))
      throw new Error("Multi-inheritance unsupported since 4.16");
    const { properties: e13, declaredClass: r8, constructor: s10 } = t14;
    delete t14.declaredClass, delete t14.properties, delete t14.constructor;
    const o11 = this;
    class i6 extends o11 {
      constructor(...t15) {
        super(...t15), this.inherited = null, s10 && s10.apply(this, t15);
      }
    }
    r(i6.prototype);
    for (const c5 in t14) {
      const e14 = t14[c5];
      i6.prototype[c5] = "function" == typeof e14 ? function(...t15) {
        const r9 = this.inherited;
        let s11;
        this.inherited = function(...t16) {
          if (o11.prototype[c5])
            return o11.prototype[c5].apply(this, t16);
        };
        try {
          s11 = e14.apply(this, t15);
        } catch (i7) {
          throw this.inherited = r9, i7;
        }
        return this.inherited = r9, s11;
      } : t14[c5];
    }
    for (const c5 in e13) {
      const t15 = m5(e13[c5]);
      y2(t15)(i6.prototype, c5);
    }
    return c2(r8)(i6);
  }
  constructor(...t14) {
    var _a;
    if (this[d5] = null, this[y4] = false, this.constructor === _g)
      throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
    const e13 = new m4(this);
    Object.defineProperty(this, "__accessor__", { enumerable: false, value: e13 }), t14.length > 0 && this.normalizeCtorArgs && (e13.ctorArgs = this.normalizeCtorArgs.apply(this, t14)), (_a = o10()) == null ? void 0 : _a.onInstanceConstruct(this);
  }
  postscript(t14) {
    const e13 = this.__accessor__, r8 = e13.ctorArgs || t14;
    e13.initialize(), r8 && (this.set(r8), e13.ctorArgs = null), e13.constructed(), this.initialize(), this[v3] = true;
  }
  initialize() {
  }
  [o]() {
    this[f6] = u(this[f6]);
  }
  destroy() {
    var _a;
    this.destroyed || (g3(this), this.__accessor__.destroy(), (_a = o10()) == null ? void 0 : _a.onInstanceDestroy(this));
  }
  [Symbol.dispose]() {
    this.destroy();
  }
  get constructed() {
    return this.__accessor__ && this.__accessor__.initialized || false;
  }
  get initialized() {
    return this[v3];
  }
  get destroyed() {
    return this.__accessor__ && this.__accessor__.destroyed || false;
  }
  commitProperty(t14) {
    o6(this, t14);
  }
  get(e13) {
    return o3(s.getLogger(this), "`Accessor.get` is deprecated in favor of using optional chaining", { version: "4.28", see: "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining" }), o6(this, e13);
  }
  hasOwnProperty(t14) {
    return this.__accessor__ ? this.__accessor__.has(t14) : Object.prototype.hasOwnProperty.call(this, t14);
  }
  keys() {
    return this.__accessor__ ? this.__accessor__.keys() : [];
  }
  set(t14, e13) {
    return t9(this, t14, e13), this;
  }
  watch(t14, e13, r8) {
    return T2(this, t14, e13, r8);
  }
  addHandles(t14, r8) {
    if (this.destroyed) {
      const e13 = Array.isArray(t14) ? t14 : [t14];
      for (const t15 of e13)
        t15.remove();
      return;
    }
    let s10 = this[f6];
    null == s10 && (s10 = this[f6] = new e12()), s10.add(t14, r8);
  }
  removeHandles(t14) {
    const e13 = this[f6];
    null != e13 && e13.remove(t14);
  }
  removeAllHandles() {
    const t14 = this[f6];
    null != t14 && t14.removeAll();
  }
  hasHandles(t14) {
    const e13 = this[f6];
    return null != e13 && e13.has(t14);
  }
  _override(t14, e13) {
    void 0 === e13 ? this.__accessor__.clearOverride(t14) : this.__accessor__.override(t14, e13);
  }
  _clearOverride(t14) {
    return this.__accessor__.clearOverride(t14);
  }
  _overrideIfSome(t14, e13) {
    null == e13 ? this.__accessor__.clearOverride(t14) : this.__accessor__.override(t14, e13);
  }
  _isOverridden(t14) {
    return this.__accessor__.isOverridden(t14);
  }
  notifyChange(t14) {
    this.__accessor__.notifyChange(t14);
  }
  _get(t14) {
    return this.__accessor__.internalGet(t14);
  }
  _set(t14, e13) {
    return this.__accessor__.internalSet(t14, e13), this;
  }
};
d5 = f6, y4 = v3;

export {
  o3 as o,
  t3 as t,
  r2 as r,
  n7 as n,
  o8 as o2,
  t10 as t2,
  e12 as e,
  u6 as u,
  o6 as o3,
  s7 as s,
  r6 as r2,
  e5 as e2,
  r3,
  n4 as n2,
  t4 as t3,
  u3 as u2,
  t6 as t4,
  s6 as s2,
  s4 as s3,
  k3 as k,
  v,
  M2 as M,
  t7 as t5,
  o5 as o4,
  e7 as e3,
  f3 as f,
  u5 as u3,
  e8 as e4,
  t5 as t6,
  i5 as i,
  y,
  P,
  x2 as x,
  y2,
  d3 as d,
  j5 as j,
  g5 as g
};
//# sourceMappingURL=chunk-LXXF7K7W.js.map
