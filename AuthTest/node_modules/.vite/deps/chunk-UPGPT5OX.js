import {
  L,
  S,
  b,
  b2,
  c,
  h,
  k,
  m,
  m2,
  n,
  u,
  w,
  x,
  y as y2
} from "./chunk-4NU7FZD7.js";
import {
  y
} from "./chunk-A43TI6AT.js";
import {
  s3 as s
} from "./chunk-WJ3HJKNC.js";

// node_modules/@arcgis/core/symbols/support/symbolConversion.js
var a = { retainId: false, ignoreDrivers: false, hasLabelingContext: true };
function S2(S3, c2 = a) {
  var _a, _b;
  if (!S3)
    return { symbol: null };
  const { retainId: u2 = a.retainId, ignoreDrivers: d = a.ignoreDrivers, hasLabelingContext: j = a.hasLabelingContext, retainCIM: D = a.retainCIM } = c2;
  let g = null;
  if (x(S3) || S3 instanceof u)
    g = S3.clone();
  else if ("cim" === S3.type) {
    const o = (_b = (_a = S3.data) == null ? void 0 : _a.symbol) == null ? void 0 : _b.type;
    if ("CIMPointSymbol" !== o)
      return { error: new s("symbol-conversion:unsupported-cim-symbol", `CIM symbol of type '${o || "unknown"}' is unsupported in 3D`, { symbol: S3 }) };
    g = D ? S3.clone() : w.fromCIMSymbol(S3);
  } else if (S3 instanceof m)
    g = b2.fromSimpleLineSymbol(S3);
  else if (S3 instanceof y2)
    g = w.fromSimpleMarkerSymbol(S3);
  else if (S3 instanceof n)
    g = w.fromPictureMarkerSymbol(S3);
  else if (S3 instanceof S)
    g = c2.geometryType && "mesh" === c2.geometryType ? c.fromSimpleFillSymbol(S3) : h.fromSimpleFillSymbol(S3);
  else {
    if (!(S3 instanceof m2))
      return { error: new s("symbol-conversion:unsupported-2d-symbol", `2D symbol of type '${S3.type || S3.declaredClass}' is unsupported in 3D`, { symbol: S3 }) };
    g = j ? b.fromTextSymbol(S3) : w.fromTextSymbol(S3);
  }
  return u2 && g && "cim" !== g.type && (g.id = S3.id), d && x(g) && g.symbolLayers.forEach((o) => o.ignoreDrivers = true), { symbol: g };
}

// node_modules/@arcgis/core/symbols/support/jsonUtils.js
function l(o, e, n2, t) {
  const s2 = a2(o, {}, { context: t, isLabelSymbol: false });
  null != s2 && (e[n2] = s2);
}
function i(o, e, n2, t) {
  const s2 = a2(o, {}, { context: t, isLabelSymbol: true });
  null != s2 && (e[n2] = s2);
}
function m3(o) {
  return o instanceof k || o instanceof u;
}
function a2(o, t, r) {
  if (null == o)
    return null;
  const { context: l2, isLabelSymbol: i2 } = r, a3 = l2 == null ? void 0 : l2.origin, b4 = l2 == null ? void 0 : l2.messages;
  if ("web-scene" === a3 && !m3(o)) {
    const n2 = S2(o, { retainCIM: true, hasLabelingContext: i2 });
    return null != n2.symbol ? n2.symbol.write(t, l2) : (b4 == null ? void 0 : b4.push(new s("symbol:unsupported", `Symbols of type '${o.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`, { symbol: o, context: l2, error: n2.error })), null);
  }
  return ("web-map" === a3 || "portal-item" === a3 && !y(l2 == null ? void 0 : l2.layer)) && m3(o) ? (b4 == null ? void 0 : b4.push(new s("symbol:unsupported", `Symbols of type '${o.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`, { symbol: o, context: l2 })), null) : o.write(t, l2);
}
function b3(e, n2) {
  return L(e, null, n2);
}

export {
  l,
  i,
  b3 as b
};
//# sourceMappingURL=chunk-UPGPT5OX.js.map
